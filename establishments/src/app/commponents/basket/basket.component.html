
<div class="cont">
  <div class="cont_h1">
    <div class="h-btn-cont">
      <a class="h_t-btn h_t btn-trans active"
         [routerLink]="'/basket'" >Замовлення</a>
      <a class="h_t-btn h_t btn-trans"
              [routerLink]="'/history'">Історія замовлень</a>
    </div>
  </div>
  <ng-container *ngIf="load; else preload">
  <ng-container *ngIf="baskets && onLoaded">
    <ng-container *ngFor="let basket of baskets">
      <ng-container *ngIf="basket.products">
        <ng-container *ngIf="basket.products.length>0; else noOneProd">
          <mz-collapsible
            [mode]="'accordion'"
            [onClose]=""
            [onOpen]=""
            [popout]="false"
            class="ord">
            <ng-container>
              <mz-collapsible-item [active]="false">
                <mz-collapsible-item-header class="ord_ct">
                  <div class="ord_ct_link">
              <span class="ord_ct_img">
                <app-picture class="inherit" [pic]="basket.estLogo" [size]="60"></app-picture>
              </span>
                    <strong class="ord_ct_t">{{basket.name}}</strong>
                  </div>
                  <div class="ord_ct_in">
                    <span class="ord_ct_time">{{ basket.data | date: "dd.MM.yy" }}</span>
                    <span class="ord_ct_val">
                    <ng-container *ngIf="basket.totalPrice">
                      <ng-container *ngIf="basket.orderType == 'delivery'">
                        <span class="">{{basket.totalPrice + basket.deliveryPrice + basket.boxesPrice}} грн</span>
                      </ng-container>
                      <ng-container *ngIf="basket.orderType == 'bySelf'">
                        <span class="">{{basket.totalPrice + basket.boxesPrice}} грн</span>
                      </ng-container>
                      <ng-container *ngIf="basket.orderType == 'reserve'">
                        <span class="">{{basket.totalPrice}} грн</span>
                      </ng-container>
                      <ng-container *ngIf="!basket.orderType">
                        <span class="">{{basket.totalPrice}} грн</span>
                      </ng-container>
                    </ng-container>
                    <ng-container *ngIf="!basket.totalPrice">0 грн</ng-container>
              </span>
                    <span class="arrow">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129 129" width="15" height="15"> <g> <path d="m121.3,34.6c-1.6-1.6-4.2-1.6-5.8,0l-51,51.1-51.1-51.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l53.9,53.9c0.8,0.8 1.8,1.2 2.9,1.2 1,0 2.1-0.4 2.9-1.2l53.9-53.9c1.7-1.6 1.7-4.2 0.1-5.8z"></path> </g></svg>
              </span>
                  </div>
                </mz-collapsible-item-header>

                <mz-collapsible-item-body class="ord_pr-cont">

                  <div class="ord_form" *ngIf="basket.products.length>0">
                    <ng-container *ngFor="let product of basket.products; let index = index">
                      <ng-container *ngIf="product.dishData && (product.status || basket.status == '0')">
                        <section class="ord_pr">
                          
                          <label class="ord_pr_check" *ngIf="basket.isCanEdit">
                            <input type="checkbox" [(ngModel)]="product.status" name="{{product._id}}" (change)="statusUpdate(product,basket)">
                            <span></span>
                          </label>

                          <div class="ord_pr_img pre-bg">
                            <h5 class="del_prod" *ngIf="!product.status">Видалено з замовлення</h5>
                            <div class="pr_ev">
                              <span class="pr_ev-s ev-s_new" *ngIf="product.dishData.isnew"></span>
                              <span class="pr_ev-s ev-s_xit" *ngIf="product.dishData.ishit"></span>
                              <!--<span class="pr_ev-s ev-s_int"></span>-->
                            </div>
                            <app-img [img]="{id:product.dishData.pic}"></app-img>
                          </div>

                          <div class="ord_pr_in">
                            <div class="ord_pr_in_h">
                              <h1 class="ord_pr_t">{{product.dishData.name}}</h1>
                              <button type="button" class="ord_pr_btn-ed btn-trans" *ngIf="basket.isCanEdit">
                                <app-pop-prod-edit
                                  [product]="product"
                                  [menuId]="basket.menuData"
                                  [Basket]="basket"
                                  (onProductUpdate)="productUpdate($event, basket, index)"
                                  (isShowChange)="reinit($event, basket, index)"
                                ></app-pop-prod-edit>
                                <span class="ord_pr_btn-ed_svg">
                                  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 469.331 469.331"  width="15" height="15"><g><path d="M438.931,30.403c-40.4-40.5-106.1-40.5-146.5,0l-268.6,268.5c-2.1,2.1-3.4,4.8-3.8,7.7l-19.9,147.4c-0.6,4.2,0.9,8.4,3.8,11.3c2.5,2.5,6,4,9.5,4c0.6,0,1.2,0,1.8-0.1l88.8-12c7.4-1,12.6-7.8,11.6-15.2c-1-7.4-7.8-12.6-15.2-11.6l-71.2,9.6l13.9-102.8l108.2,108.2c2.5,2.5,6,4,9.5,4s7-1.4,9.5-4l268.6-268.5c19.6-19.6,30.4-45.6,30.4-73.3S458.531,49.903,438.931,30.403z M297.631,63.403l45.1,45.1l-245.1,245.1l-45.1-45.1L297.631,63.403z M160.931,416.803l-44.1-44.1l245.1-245.1l44.1,44.1L160.931,416.803z M424.831,152.403l-107.9-107.9c13.7-11.3,30.8-17.5,48.8-17.5c20.5,0,39.7,8,54.2,22.4s22.4,33.7,22.4,54.2C442.331,121.703,436.131,138.703,424.831,152.403z"></path></g></svg>
                                </span>
                              </button>
                            </div>
                            <p class="ord_pr_in_d">{{product.dishData.about}}</p>
                            <div class="ord_pr_in_add">
                              <p class="ord_pr_in_d">Додатково:</p>
                              <ul *ngIf="product.complementData">
                                <li *ngFor="let compl of product.complementData">
                                  <!--product.dishData.dishcategory.complementbox-->
                                  <span class="ord-check"></span>
                                  <span>{{compl.count}}</span>
                                  <!--<label class="ord_check">-->
                                  <!--<input type="checkbox" [checked]="compl.check == true"-->
                                  <!--(change)="checkPrice(compl, product)">-->
                                  <!--<span></span>-->
                                  <!--</label>-->
                                  {{compl.id.name}}  ({{compl.id.massa}} - {{compl.id.price}} грн)
                                </li>
                              </ul>
                              <ng-container *ngIf="product.orderCommentData">
                                <p class="ord_pr_in_add_com" *ngIf="product.orderCommentData.length>0">{{product.orderCommentData[0].text}}</p>
                              </ng-container>
                            </div>

                            <div class="pr_num">
                              <span class="pr_num_t">Кількість:</span>
                              <div class="pr_num_c" *ngIf="basket.isCanEdit">
                                <button type="button" class="btn-trans btn-pr_num" (click)="decPP(product, basket)">
                                  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 52 52" width="12" height="12"><g><path d="M26,0C11.664,0,0,11.663,0,26s11.664,26,26,26s26-11.663,26-26S40.336,0,26,0z M26,50C12.767,50,2,39.233,2,26S12.767,2,26,2s24,10.767,24,24S39.233,50,26,50z"></path><path d="M39,25H13c-0.552,0-1,0.447-1,1s0.448,1,1,1h26c0.552,0,1-0.447,1-1S39.552,25,39,25z"></path></g></svg>
                                </button>
                                <input class="pr_num_inp" type="number" name="number{{product._id}}" disabled
                                       [(ngModel)]="product.count"
                                       (blur)="checkPP(product, basket)">
                                <button type="button" class="btn-trans btn-pr_num" (click)="addPP(product, basket)">
                                  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 52 52" width="12" height="12"><g><path d="M26,0C11.664,0,0,11.663,0,26s11.664,26,26,26s26-11.663,26-26S40.336,0,26,0z M26,50C12.767,50,2,39.233,2,26S12.767,2,26,2s24,10.767,24,24S39.233,50,26,50z"></path><path d="M38.5,25H27V14c0-0.553-0.448-1-1-1s-1,0.447-1,1v11H13.5c-0.552,0-1,0.447-1,1s0.448,1,1,1H25v12c0,0.553,0.448,1,1,1s1-0.447,1-1V27h11.5c0.552,0,1-0.447,1-1S39.052,25,38.5,25z"></path></g></svg>
                                </button>
                              </div>
                              <div class="pr_num_c" *ngIf="!basket.isCanEdit">{{product.count}}</div>
                            </div>

                            <div class="ord_pr_in_offer" *ngIf="product.portionCheck">
                              <div>{{product.portionCheck.massa || product.portionCheck.name || ''}}</div>

                              <div class="ord_pr_offer_prices">
                                <span class="c_t14">{{product.portionCheck.price}} грн</span>
                              </div>
                            </div>
                            <div class="ord_pr_in_offer">
                              <div>Ціна з додатками</div>
                              <div class="ord_pr_offer_prices">
                                <span class="c_t14">{{product.totalPrice}} грн</span>
                              </div>
                            </div>
                          </div>
                        </section>
                      </ng-container>
                    </ng-container>

                    <div class="ord_in">
                      <p class="ord_in_i">
                        <span class="ord_in_i-t">Статус замовленя:</span>
                        <span class="ord_in_i-val ev">{{basket.status | status}}</span>
                      </p>
                      <p class="ord_in_i">
                        <span class="ord_in_i-t">Загальна вартість:</span>
                        <span class="ord_in_i-val">
                          <ng-container *ngIf="basket.totalPrice">
                            <ng-container *ngIf="basket.orderType == 'delivery'">
                              <span class="">{{basket.totalPrice + basket.deliveryPrice + basket.boxesPrice}} грн</span>
                            </ng-container>
                            <ng-container *ngIf="basket.orderType == 'bySelf'">
                              <span class="">{{basket.totalPrice + basket.boxesPrice}} грн</span>
                            </ng-container>
                            <ng-container *ngIf="basket.orderType == 'reserve'">
                              <span class="">{{basket.totalPrice}} грн</span>
                            </ng-container>
                            <ng-container *ngIf="!basket.orderType">
                              <span class="">{{basket.totalPrice}} грн</span>
                            </ng-container>
                          </ng-container>
                          <ng-container *ngIf="!basket.totalPrice">0 грн</ng-container>
                        </span>
                      </p>
                    </div>
                    <ng-container *ngIf="basket.orderType">
                    <mz-collapsible
                      [mode]="'accordion'"
                      [onClose]=""
                      [onOpen]=""
                      [popout]="false"
                      class="dt">
                      <mz-collapsible-item [active]="false">
                        <mz-collapsible-item-header class="dt_h">
                          <span class="dt_h_t">Деталі замовленя</span>
                          <div class="dt_h_svg">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129 129" width="15" height="15"> <g> <path d="m121.3,34.6c-1.6-1.6-4.2-1.6-5.8,0l-51,51.1-51.1-51.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l53.9,53.9c0.8,0.8 1.8,1.2 2.9,1.2 1,0 2.1-0.4 2.9-1.2l53.9-53.9c1.7-1.6 1.7-4.2 0.1-5.8z"/> </g></svg>
                          </div>
                        </mz-collapsible-item-header>

                        <mz-collapsible-item-body class="dt_c">
                          <ng-container *ngIf="basket.orderCommentData">
                            <ng-container *ngIf="basket.orderCommentData.length>0">
                              <div class="dt_i" *ngIf="basket.orderCommentData[basket.orderCommentData.length-1].text">
                                <span class="dt_t">Коментар:</span>
                                <span class="dt_t">{{basket.orderCommentData[basket.orderCommentData.length-1].text}}</span>
                              </div>
                            </ng-container>
                          </ng-container>
                          <div class="dt_i" *ngIf="basket.orderType">
                            <span class="dt_t">Тип замовлення:</span>
                            <span class="dt_t">{{basket.orderType | order}}</span>
                          </div>
                          <div class="dt_i" *ngIf="basket.anyMobile">
                            <span class="dt_t" >Телефон:</span>
                            <span class="dt_t">{{basket.anyMobile}}</span>
                          </div>
                          <div class="dt_i" *ngIf="basket.timeData">
                            <span class="dt_t" >Час і дата:</span>
                            <span class="dt_t">{{basket.timeData}}</span>
                          </div>
                          <div class="dt_i" *ngIf="basket.paymentType">
                            <span class="dt_t">Вид оплати:</span>
                            <span class="dt_t">{{basket.paymentType | payment}}</span>
                          </div>
                          <div class="dt_i" *ngIf="basket.deliveryPrice && (basket.orderType == 'delivery')">
                            <span class="dt_t">Доставка:</span>
                            <span class="dt_t">{{basket.deliveryPrice}} грн</span>
                          </div>
                          <div class="dt_i" *ngIf="basket.boxesPrice &&
                          (basket.orderType == 'bySelf' || basket.orderType == 'delivery')">
                            <span class="dt_t">Пакування:</span>
                            <span class="dt_t">{{basket.boxesPrice}} грн</span>
                          </div>
                          <div class="dt_i" >
                            <span class="dt_t">Вартість замовлення:</span>
                            <span class="dt_t">
                              <ng-container *ngIf="basket.totalPrice">
                                <ng-container *ngIf="basket.orderType != 'reserve'">
                                  {{basket.totalPrice}} грн
                                </ng-container>
                                <ng-container *ngIf="basket.orderType == 'reserve'">
                                  {{basket.totalPrice}} грн
                                </ng-container>
                              </ng-container>
                            </span>
                          </div>
                          <div class="dt_i" *ngIf="basket.totalPrice">
                            <span class="dt_t">Загальна вартість:</span>
                            <ng-container *ngIf="basket.orderType == 'delivery'">
                              <span class="dt_t">{{basket.totalPrice + basket.deliveryPrice + basket.boxesPrice}} грн</span>
                            </ng-container>
                            <ng-container *ngIf="basket.orderType == 'bySelf'">
                              <span class="dt_t">{{basket.totalPrice + basket.boxesPrice}} грн</span>
                            </ng-container>
                            <ng-container *ngIf="basket.orderType == 'reserve'">
                              <span class="dt_t">{{basket.totalPrice}} грн</span>
                            </ng-container>
                            <ng-container *ngIf="!basket.orderType">
                              <span class="dt_t">{{basket.totalPrice}} грн</span>
                            </ng-container>

                          </div>
                        </mz-collapsible-item-body>
                      </mz-collapsible-item>
                    </mz-collapsible>
                    </ng-container>
                    <ng-container *ngIf="(basket.ownerEstObj.minPrice > basket.totalPrice) && (basket.status == 0)">
                      <p class="error-text">Мінімальна сума замолення {{basket.ownerEstObj.minPrice}} грн</p>
                    </ng-container>
                    <div class="ord_btn-cont">
                      <ng-container *ngIf="basket.paymentType == 'fiat'">
                        <button class="btn-green ord_btn" *ngIf="basket.status == 5"
                                (click)="setConfirm(basket)">
                          Погодити зміни
                        </button>
                      </ng-container>
                      <ng-container *ngIf="basket.paymentType == 'coin'">
                        <button class="btn-green ord_btn" *ngIf="basket.status == 5"
                                (click)="setConfirmCoin(basket)">
                          Погодити зміни
                        </button>
                      </ng-container>
                        <button class="btn-green ord_btn" *ngIf="basket.status == 0"
                                [class.disabled]="basket.ownerEstObj.minPrice > basket.totalPrice"
                                (click)="setActiveBasket(basket)">
                          замовити
                        </button>

                      <ng-container *ngIf="basket.paymentType == 'card'">
                        <div class="liqpay-btn"  *ngIf="basket.status == 3 || basket.status == 5">
                            <div [innerHTML]="basket.html | safeHTML">
                              {{basket.html}}
                            </div>
                        </div>
                      </ng-container>
                      <button class="btn-red ord_btn"
                              (click)="delBasket(basket)"
                              *ngIf="basket.status == 0 || basket.status == 3 || basket.status == 5">
                        скасувати
                      </button>
                    </div>
                  </div>

                </mz-collapsible-item-body>
              </mz-collapsible-item>
            </ng-container>
          </mz-collapsible>
        </ng-container>

      </ng-container>
    </ng-container>
  </ng-container>
</ng-container>

</div>

<ng-container *ngIf="isDoOrder">
  <div class="cont md md-full3 p-d-cont active">
    <div class="p-d">
      <ng-container *ngTemplateOutlet="popCheckTypeOrder"></ng-container>
      <ng-container *ngIf="orderType == 'delivery'">
        <ng-container *ngTemplateOutlet="popTypeOrderDelivery"></ng-container>
      </ng-container>
      <ng-container *ngIf="orderType == 'bySelf'">
        <ng-container *ngTemplateOutlet="popTypeOrderBeSelf"></ng-container>
      </ng-container>
      <ng-container *ngIf="orderType == 'reserve'">
        <ng-container *ngTemplateOutlet="popTypeOrderReserve"></ng-container>
      </ng-container>

    </div>
  </div>
  <div class="md-fixed active" (click)="isDoOrder=false"></div>
</ng-container>

<ng-template #noOneProd>
  <p class="prevInv center">
    Замовлень немає
  </p>
</ng-template>

<ng-template #popCheckTypeOrder>
  <div class="p-d_h">
    <button type="button" class="btn-trans btn-p-d_h o5" [class.active]="orderType=='delivery'"
            (click)="checkDelivery()" *ngIf="activeBaskets.delivery">
      <span class="p-d_h_svg">
        <svg xmlns="http://www.w3.org/2000/svg" width="531" height="281" viewBox="0 0 531 281" fill="none"><mask id="path-1-inside-1" fill="white"><path fill-rule="evenodd" clip-rule="evenodd" d="M521.203 203.466H523.718C527.761 203.466 531.029 206.746 531 210.789V236.975C531 241.098 527.659 244.459 523.521 244.459H500.441C500.441 216.252 477.529 193.294 449.36 193.294C421.191 193.294 398.272 216.237 398.272 244.459H295.599C295.599 216.252 272.68 193.294 244.504 193.294C216.336 193.294 193.416 216.237 193.416 244.459H167.887C163.764 244.459 160.415 241.098 160.415 236.975V210.789C160.415 206.739 163.691 203.466 167.726 203.466H171.63V29.958C171.63 13.4082 185.016 0 201.546 0H388.432C392.562 0 395.904 3.34638 395.904 7.49159V38.7821H463.243C467.396 38.7821 472.755 41.4546 475.27 44.7356L516.7 99.2979C519.193 102.586 521.203 108.605 521.203 112.743V203.466ZM414.897 67.1138V110.883L485.278 110.875L457.439 72.8332C455.063 69.6773 449.974 67.1138 446.041 67.1138H414.897ZM244.51 207.933C224.362 207.933 208.044 224.292 208.044 244.473C208.044 264.655 224.362 281 244.51 281C264.666 281 280.984 264.655 280.984 244.473C280.984 224.292 264.666 207.933 244.51 207.933ZM244.51 256.615C237.829 256.615 232.396 251.181 232.396 244.488C232.396 237.766 237.829 232.332 244.51 232.332C251.215 232.332 256.646 237.766 256.646 244.488C256.646 251.181 251.215 256.615 244.51 256.615ZM449.359 207.933C429.218 207.933 412.9 224.292 412.9 244.473C412.9 264.655 429.218 281 449.359 281C469.522 281 485.833 264.655 485.833 244.473C485.833 224.292 469.522 207.933 449.359 207.933ZM449.359 256.615C442.677 256.615 437.245 251.181 437.245 244.488C437.245 237.766 442.677 232.332 449.359 232.332C456.056 232.332 461.488 237.766 461.488 244.488C461.503 251.181 456.056 256.615 449.359 256.615ZM291.724 25.7775C264.658 25.7775 242.442 49.3648 242.442 78.4557C242.442 82.8492 243.563 88.0584 245.466 93.7361C241.294 93.9735 238.148 93.2173 236.028 92.6085C230.84 91.2283 229.373 89.2498 228.868 88.5693L228.831 88.52C228.362 87.891 227.579 86.633 227.736 85.2178C227.819 84.3784 228.17 83.8526 228.456 83.4253C228.705 83.052 228.904 82.7539 228.831 82.3873C228.518 81.2866 226.015 80.6576 224.138 81.6011C221.947 82.5446 221.321 85.2178 221.321 86.9475C221.321 89.149 222.573 90.7215 223.355 91.5077C223.825 92.1367 225.546 94.0237 229.3 94.9672C236.184 96.8542 243.224 94.6527 245.884 93.7092L245.718 93.7206C250.168 92.9006 255.047 91.8998 260.121 90.4071C269.039 87.7339 276.705 84.5889 282.963 81.6012C282.806 80.1859 283.275 79.2425 283.901 79.0852C283.901 79.0852 284.371 79.0852 284.84 79.3997C284.84 77.5127 285.153 74.2105 287.03 70.751C289.602 65.4292 294.075 63.1949 295.783 62.3422L295.948 62.2596C302.675 58.9574 314.409 58.0139 318.32 64.3039C322.075 70.2793 316.755 81.6012 308.464 86.0041C299.092 90.9381 289.155 85.4943 287.662 84.6766L287.661 84.6761C287.585 84.6341 287.53 84.6043 287.5 84.5889C287.187 85.2179 286.561 85.6896 285.935 85.6896C285.153 85.6896 284.371 85.2179 284.214 84.2744C275.766 89.7781 268.256 93.2376 262.624 95.439C256.112 97.9846 251.458 99.1286 247.661 99.6632C258.088 125.579 281.168 158.135 289.064 168.716C290.315 170.603 292.975 170.603 294.227 168.716C302.523 157.426 328.316 121.12 337.533 94.5543C335.175 95.7077 332.487 96.8591 329.428 97.9542C323.483 100.156 314.722 102.514 303.614 103.143C303.77 104.401 303.614 105.502 302.988 105.659C302.675 105.817 302.049 105.345 301.58 104.716C300.798 109.276 294.853 115.566 284.371 119.025C277.8 121.227 272.168 121.856 268.726 121.699C267.318 121.856 266.223 121.856 266.066 121.541C266.066 121.384 267.005 120.755 268.256 120.126C272.559 118.554 276.626 117.02 280.381 115.605C284.136 114.19 287.578 112.893 290.629 111.792L290.472 111.163C288.456 111.771 286.246 112.379 283.882 113.029L283.881 113.029C282.576 113.388 281.224 113.759 279.834 114.151C277.722 114.701 275.649 115.291 273.576 115.88C271.503 116.47 269.43 117.06 267.318 117.61C265.753 117.767 264.502 117.453 264.345 116.981C264.189 116.509 265.284 115.723 266.692 115.251C270.521 113.877 274.14 112.533 277.538 111.271L277.539 111.27C281.915 109.645 285.923 108.157 289.533 106.917L289.377 106.288C287.269 106.958 284.845 107.627 282.219 108.352L282.217 108.352L282.214 108.353C281.139 108.65 280.03 108.957 278.895 109.276C276.783 109.826 274.71 110.416 272.637 111.006C270.564 111.595 268.491 112.185 266.379 112.736C264.814 113.05 263.563 112.893 263.406 112.421C263.25 111.949 264.189 111.163 265.597 110.534C269.899 108.962 273.967 107.428 277.721 106.013C281.476 104.598 284.918 103.301 287.969 102.2L287.812 101.571C285.796 102.179 283.585 102.787 281.221 103.437C279.916 103.796 278.565 104.167 277.174 104.559C276.387 104.793 275.606 105.027 274.828 105.261L274.823 105.262L274.82 105.263C271.424 106.281 268.093 107.28 264.658 108.175C264.345 108.333 262.155 108.962 261.998 108.49C261.873 107.987 263.15 107.081 263.746 106.658C263.895 106.553 264.001 106.477 264.032 106.446C268.1 103.458 272.793 100.942 278.269 99.2121C288.595 95.7527 297.199 97.6397 300.485 100.627C300.485 99.6839 300.641 98.8977 301.111 98.7404C301.58 98.5832 302.362 99.3694 302.988 100.47C308.151 99.3694 315.973 97.3252 324.891 93.7085C326.455 93.0795 328.02 92.4504 329.271 91.8215C333.214 90.1231 336.702 88.5495 339.713 87.1435C340.446 84.0052 340.849 81.0844 340.849 78.4557C341.005 49.3648 318.946 25.7775 291.724 25.7775ZM347.732 79.8706C346.011 81.7576 343.352 84.4308 339.753 87.1041C343.195 85.8461 350.079 82.8584 355.398 77.5119C357.276 75.4677 358.684 73.4235 359.153 70.593C359.466 69.4922 359.779 67.2908 358.527 65.4038C357.432 63.8313 355.398 62.1016 352.895 62.7306C350.548 63.2023 348.515 65.561 348.827 66.6618C348.987 67.1424 349.43 67.2965 349.951 67.4776C350.453 67.6521 351.027 67.8515 351.487 68.3915C351.499 68.415 351.513 68.4419 351.529 68.4727C351.732 68.8547 352.246 69.8255 351.956 72.0082C351.487 74.9959 349.766 77.3547 347.732 79.8706ZM44.6074 46.3995C44.6074 41.6543 48.448 37.807 53.1858 37.807H161.273C166.011 37.807 169.851 41.6543 169.851 46.3995C169.851 51.1447 166.011 54.992 161.273 54.992H53.1858C48.448 54.992 44.6074 51.1447 44.6074 46.3995ZM68.6268 97.0953C68.6268 92.3501 72.4674 88.5028 77.2052 88.5028H138.969C143.707 88.5028 147.548 92.3501 147.548 97.0953C147.548 101.84 143.707 105.688 138.969 105.688H77.2052C72.4674 105.688 68.6268 101.84 68.6268 97.0953ZM8.57835 140.917C3.84057 140.917 0 144.764 0 149.51C0 154.255 3.84057 158.102 8.57835 158.102H116.666C121.403 158.102 125.244 154.255 125.244 149.51C125.244 144.764 121.403 140.917 116.666 140.917H8.57835Z"/></mask><path fill-rule="evenodd" clip-rule="evenodd" d="M521.203 203.466H523.718C527.761 203.466 531.029 206.746 531 210.789V236.975C531 241.098 527.659 244.459 523.521 244.459H500.441C500.441 216.252 477.529 193.294 449.36 193.294C421.191 193.294 398.272 216.237 398.272 244.459H295.599C295.599 216.252 272.68 193.294 244.504 193.294C216.336 193.294 193.416 216.237 193.416 244.459H167.887C163.764 244.459 160.415 241.098 160.415 236.975V210.789C160.415 206.739 163.691 203.466 167.726 203.466H171.63V29.958C171.63 13.4082 185.016 0 201.546 0H388.432C392.562 0 395.904 3.34638 395.904 7.49159V38.7821H463.243C467.396 38.7821 472.755 41.4546 475.27 44.7356L516.7 99.2979C519.193 102.586 521.203 108.605 521.203 112.743V203.466ZM414.897 67.1138V110.883L485.278 110.875L457.439 72.8332C455.063 69.6773 449.974 67.1138 446.041 67.1138H414.897ZM244.51 207.933C224.362 207.933 208.044 224.292 208.044 244.473C208.044 264.655 224.362 281 244.51 281C264.666 281 280.984 264.655 280.984 244.473C280.984 224.292 264.666 207.933 244.51 207.933ZM244.51 256.615C237.829 256.615 232.396 251.181 232.396 244.488C232.396 237.766 237.829 232.332 244.51 232.332C251.215 232.332 256.646 237.766 256.646 244.488C256.646 251.181 251.215 256.615 244.51 256.615ZM449.359 207.933C429.218 207.933 412.9 224.292 412.9 244.473C412.9 264.655 429.218 281 449.359 281C469.522 281 485.833 264.655 485.833 244.473C485.833 224.292 469.522 207.933 449.359 207.933ZM449.359 256.615C442.677 256.615 437.245 251.181 437.245 244.488C437.245 237.766 442.677 232.332 449.359 232.332C456.056 232.332 461.488 237.766 461.488 244.488C461.503 251.181 456.056 256.615 449.359 256.615ZM291.724 25.7775C264.658 25.7775 242.442 49.3648 242.442 78.4557C242.442 82.8492 243.563 88.0584 245.466 93.7361C241.294 93.9735 238.148 93.2173 236.028 92.6085C230.84 91.2283 229.373 89.2498 228.868 88.5693L228.831 88.52C228.362 87.891 227.579 86.633 227.736 85.2178C227.819 84.3784 228.17 83.8526 228.456 83.4253C228.705 83.052 228.904 82.7539 228.831 82.3873C228.518 81.2866 226.015 80.6576 224.138 81.6011C221.947 82.5446 221.321 85.2178 221.321 86.9475C221.321 89.149 222.573 90.7215 223.355 91.5077C223.825 92.1367 225.546 94.0237 229.3 94.9672C236.184 96.8542 243.224 94.6527 245.884 93.7092L245.718 93.7206C250.168 92.9006 255.047 91.8998 260.121 90.4071C269.039 87.7339 276.705 84.5889 282.963 81.6012C282.806 80.1859 283.275 79.2425 283.901 79.0852C283.901 79.0852 284.371 79.0852 284.84 79.3997C284.84 77.5127 285.153 74.2105 287.03 70.751C289.602 65.4292 294.075 63.1949 295.783 62.3422L295.948 62.2596C302.675 58.9574 314.409 58.0139 318.32 64.3039C322.075 70.2793 316.755 81.6012 308.464 86.0041C299.092 90.9381 289.155 85.4943 287.662 84.6766L287.661 84.6761C287.585 84.6341 287.53 84.6043 287.5 84.5889C287.187 85.2179 286.561 85.6896 285.935 85.6896C285.153 85.6896 284.371 85.2179 284.214 84.2744C275.766 89.7781 268.256 93.2376 262.624 95.439C256.112 97.9846 251.458 99.1286 247.661 99.6632C258.088 125.579 281.168 158.135 289.064 168.716C290.315 170.603 292.975 170.603 294.227 168.716C302.523 157.426 328.316 121.12 337.533 94.5543C335.175 95.7077 332.487 96.8591 329.428 97.9542C323.483 100.156 314.722 102.514 303.614 103.143C303.77 104.401 303.614 105.502 302.988 105.659C302.675 105.817 302.049 105.345 301.58 104.716C300.798 109.276 294.853 115.566 284.371 119.025C277.8 121.227 272.168 121.856 268.726 121.699C267.318 121.856 266.223 121.856 266.066 121.541C266.066 121.384 267.005 120.755 268.256 120.126C272.559 118.554 276.626 117.02 280.381 115.605C284.136 114.19 287.578 112.893 290.629 111.792L290.472 111.163C288.456 111.771 286.246 112.379 283.882 113.029L283.881 113.029C282.576 113.388 281.224 113.759 279.834 114.151C277.722 114.701 275.649 115.291 273.576 115.88C271.503 116.47 269.43 117.06 267.318 117.61C265.753 117.767 264.502 117.453 264.345 116.981C264.189 116.509 265.284 115.723 266.692 115.251C270.521 113.877 274.14 112.533 277.538 111.271L277.539 111.27C281.915 109.645 285.923 108.157 289.533 106.917L289.377 106.288C287.269 106.958 284.845 107.627 282.219 108.352L282.217 108.352L282.214 108.353C281.139 108.65 280.03 108.957 278.895 109.276C276.783 109.826 274.71 110.416 272.637 111.006C270.564 111.595 268.491 112.185 266.379 112.736C264.814 113.05 263.563 112.893 263.406 112.421C263.25 111.949 264.189 111.163 265.597 110.534C269.899 108.962 273.967 107.428 277.721 106.013C281.476 104.598 284.918 103.301 287.969 102.2L287.812 101.571C285.796 102.179 283.585 102.787 281.221 103.437C279.916 103.796 278.565 104.167 277.174 104.559C276.387 104.793 275.606 105.027 274.828 105.261L274.823 105.262L274.82 105.263C271.424 106.281 268.093 107.28 264.658 108.175C264.345 108.333 262.155 108.962 261.998 108.49C261.873 107.987 263.15 107.081 263.746 106.658C263.895 106.553 264.001 106.477 264.032 106.446C268.1 103.458 272.793 100.942 278.269 99.2121C288.595 95.7527 297.199 97.6397 300.485 100.627C300.485 99.6839 300.641 98.8977 301.111 98.7404C301.58 98.5832 302.362 99.3694 302.988 100.47C308.151 99.3694 315.973 97.3252 324.891 93.7085C326.455 93.0795 328.02 92.4504 329.271 91.8215C333.214 90.1231 336.702 88.5495 339.713 87.1435C340.446 84.0052 340.849 81.0844 340.849 78.4557C341.005 49.3648 318.946 25.7775 291.724 25.7775ZM347.732 79.8706C346.011 81.7576 343.352 84.4308 339.753 87.1041C343.195 85.8461 350.079 82.8584 355.398 77.5119C357.276 75.4677 358.684 73.4235 359.153 70.593C359.466 69.4922 359.779 67.2908 358.527 65.4038C357.432 63.8313 355.398 62.1016 352.895 62.7306C350.548 63.2023 348.515 65.561 348.827 66.6618C348.987 67.1424 349.43 67.2965 349.951 67.4776C350.453 67.6521 351.027 67.8515 351.487 68.3915C351.499 68.415 351.513 68.4419 351.529 68.4727C351.732 68.8547 352.246 69.8255 351.956 72.0082C351.487 74.9959 349.766 77.3547 347.732 79.8706ZM44.6074 46.3995C44.6074 41.6543 48.448 37.807 53.1858 37.807H161.273C166.011 37.807 169.851 41.6543 169.851 46.3995C169.851 51.1447 166.011 54.992 161.273 54.992H53.1858C48.448 54.992 44.6074 51.1447 44.6074 46.3995ZM68.6268 97.0953C68.6268 92.3501 72.4674 88.5028 77.2052 88.5028H138.969C143.707 88.5028 147.548 92.3501 147.548 97.0953C147.548 101.84 143.707 105.688 138.969 105.688H77.2052C72.4674 105.688 68.6268 101.84 68.6268 97.0953ZM8.57835 140.917C3.84057 140.917 0 144.764 0 149.51C0 154.255 3.84057 158.102 8.57835 158.102H116.666C121.403 158.102 125.244 154.255 125.244 149.51C125.244 144.764 121.403 140.917 116.666 140.917H8.57835Z" fill="black" stroke="black" stroke-width="2" mask="url(#path-1-inside-1)"/></svg>
      </span>
      <span class="c_t-colF p-d_h-t">Доставка</span>
    </button>
    <button type="button" class="btn-trans btn-p-d_h o5" [class.active]="orderType=='bySelf'"
            (click)="orderType='bySelf'" *ngIf="activeBaskets.getself">
      <span class="p-d_h_svg">
        <svg xmlns="http://www.w3.org/2000/svg" width="370" height="370" viewBox="0 0 370 370" fill="none"><path d="M329.531 312.188C333.523 312.188 336.758 308.952 336.758 304.961V222.172C336.758 220.543 336.207 218.962 335.197 217.686L304.958 179.501V147.419C304.958 129.09 290.045 114.18 271.716 114.18H267.448V107.473C267.448 95.0011 262.144 83.049 252.899 74.6792C248.786 70.9558 246.426 65.6375 246.426 60.0877V53.4766H252.207C256.199 53.4766 259.434 50.2415 259.434 46.25V7.22656C259.434 3.23502 256.199 0 252.207 0H125.02C121.028 0 117.793 3.23502 117.793 7.22656V46.25C117.793 50.2415 121.028 53.4766 125.02 53.4766H130.801V59.3397C130.801 65.3806 128.085 71.001 123.354 74.7554L116.466 80.2233C106.01 88.5197 99.9524 100.864 99.7463 114.18H98.2756C79.9467 114.18 65.0362 129.09 65.0362 147.419V179.51L34.8032 217.686C33.7926 218.962 33.2422 220.543 33.2422 222.172V362.773C33.2422 366.765 36.4772 370 40.4688 370H329.531C333.523 370 336.758 366.765 336.758 362.773C336.758 358.782 333.523 355.547 329.531 355.547H47.6953V224.687L75.6898 189.336H294.31L322.305 224.687V304.961C322.305 308.952 325.54 312.188 329.531 312.188ZM132.246 14.4531H244.98V39.0234H132.246V14.4531ZM114.18 114.874C114.18 105.731 118.287 97.2255 125.449 91.543L132.339 86.0751C140.545 79.5628 145.254 69.8182 145.254 59.3397V53.4766H231.973V60.0877C231.973 69.7109 236.063 78.9333 243.196 85.392C249.424 91.0293 252.995 99.0773 252.995 107.475V114.18H226.914C222.923 114.18 219.688 117.415 219.688 121.406V141.401C219.688 143.924 217.635 145.977 215.112 145.977H204.029V128.393C204.029 124.401 200.794 121.166 196.802 121.166C192.814 121.166 189.576 124.401 189.576 128.393V145.977H173.113V128.393C173.113 124.401 169.878 121.166 165.886 121.166C161.898 121.166 158.66 124.401 158.66 128.393V145.977H142.197V128.393C142.197 124.401 138.962 121.166 134.97 121.166C130.981 121.166 127.744 124.401 127.744 128.393V145.977H118.756C116.232 145.977 114.18 143.924 114.18 141.401V114.874ZM290.505 174.883H79.4894V147.419C79.4894 137.062 87.9156 128.633 98.2756 128.633H99.7266V141.401C99.7266 143.382 100.031 145.293 100.596 147.092C98.5664 148.37 97.2114 150.626 97.2114 153.203C97.2114 157.195 100.449 160.43 104.438 160.43H265.562C269.554 160.43 272.789 157.195 272.789 153.203C272.789 149.212 269.554 145.977 265.562 145.977H233.582C233.946 144.509 234.141 142.979 234.141 141.401V128.633H271.716C282.076 128.633 290.505 137.062 290.505 147.419V174.883Z" fill="black"/><path d="M185 202.242C181.008 202.242 177.773 205.477 177.773 209.469V211.572C134.12 215.146 99.4076 250.793 97.3158 294.844H85.2734C81.2819 294.844 78.0469 298.079 78.0469 302.07C78.0469 323.589 95.5544 341.094 117.07 341.094H252.93C274.446 341.094 291.953 323.589 291.953 302.07C291.953 298.079 288.718 294.844 284.727 294.844H272.684C270.592 250.793 235.88 215.146 192.227 211.572V209.469C192.227 205.477 188.992 202.242 185 202.242ZM252.93 326.641H117.07C106.036 326.641 96.6779 319.329 93.584 309.297H276.416C273.322 319.329 263.964 326.641 252.93 326.641ZM258.214 294.844H111.786C113.976 256.36 145.977 225.726 185 225.726C224.023 225.726 256.024 256.36 258.214 294.844Z" fill="black"/><path d="M329.531 326.641C327.631 326.641 325.766 327.414 324.422 328.758C323.078 330.101 322.305 331.967 322.305 333.867C322.305 335.767 323.078 337.633 324.422 338.977C325.766 340.32 327.631 341.094 329.531 341.094C331.431 341.094 333.297 340.32 334.641 338.977C335.984 337.633 336.758 335.767 336.758 333.867C336.758 331.967 335.984 330.101 334.641 328.758C333.297 327.414 331.431 326.641 329.531 326.641Z" fill="black"/></svg>
      </span>
      <span class="c_t-colF p-d_h-t">На виніс</span>
    </button>
    <button type="button" class="btn-trans btn-p-d_h o5" [class.active]="orderType=='reserve'"
            (click)="orderType='reserve'" *ngIf="activeBaskets.reservation">
      <span class="p-d_h_svg">
        <svg xmlns="http://www.w3.org/2000/svg" width="343" height="369" viewBox="0 0 343 369" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M36.9255 343.661C40.2463 343.658 43.5582 343.311 46.8103 342.626L43.1367 360.821C42.7751 362.623 43.2443 364.494 44.413 365.914C45.5818 367.337 47.3274 368.156 49.1686 368.147H73.6548C76.5632 368.147 79.071 366.099 79.6538 363.251L83.9879 341.541C88.5731 342.946 93.3436 343.661 98.141 343.661C109.422 343.487 120.35 339.685 129.305 332.819C155.647 347.274 187.549 347.274 213.892 332.819C222.847 339.685 233.775 343.487 245.058 343.661C249.856 343.652 254.623 342.931 259.208 341.517L263.543 363.251C264.125 366.099 266.633 368.147 269.545 368.147H294.031C295.869 368.147 297.609 367.322 298.771 365.896C299.934 364.473 300.397 362.602 300.03 360.8L296.386 342.608C299.635 343.299 302.95 343.652 306.274 343.661C319.243 343.421 331.678 338.427 341.207 329.624C342.555 328.276 343.198 326.378 342.946 324.489L318.46 140.842C318.057 137.799 315.462 135.528 312.395 135.528H287.91V107.454L310.599 84.7619C312.351 83.0103 312.874 80.3769 311.926 78.0903C310.979 75.8037 308.749 74.3122 306.274 74.3122H257.301C254.824 74.3122 252.594 75.8037 251.646 78.0903C250.699 80.3769 251.222 83.0103 252.973 84.7619L275.666 107.455V135.528H238.937V62.0691C238.629 53.2634 234.062 45.1541 226.694 40.3268V6.97507C226.694 3.59447 223.953 0.853516 220.572 0.853516H196.086C192.702 0.853516 189.964 3.59447 189.964 6.97507V40.3268C182.593 45.1541 178.026 53.2634 177.721 62.0691V135.528H116.506V135.5H104.263V135.528H30.8039C27.7342 135.528 25.1397 137.799 24.7362 140.842L0.24997 324.489C-0.00110905 326.378 0.641534 328.276 1.98959 329.624C11.5187 338.427 23.9531 343.421 36.9255 343.661ZM291.496 86.5553L281.788 96.2637L272.076 86.5553H291.496ZM68.6332 355.904H56.6352L60.3088 337.715C62.8255 336.412 65.2377 334.921 67.5333 333.253C69.1324 334.427 70.7913 335.515 72.51 336.511L68.6332 355.904ZM286.561 355.904H274.563L270.686 336.487C272.402 335.498 274.064 334.418 275.666 333.253C277.965 334.93 280.389 336.43 282.912 337.742L286.561 355.904ZM214.451 104.92V80.4337H226.694V104.92H214.451ZM202.207 13.0966H214.451V25.3397H202.207V13.0966ZM189.964 62.0691C190.601 56.5812 193.919 51.7629 198.821 49.2132C200.907 48.173 202.219 46.0359 202.207 43.7044V37.5828H214.451V43.7044C214.466 46.006 215.754 48.1073 217.798 49.1654C222.727 51.718 226.06 56.5543 226.694 62.0691V68.1906H208.329C204.945 68.1906 202.207 70.9316 202.207 74.3122V111.042C202.207 114.422 204.945 117.163 208.329 117.163H226.694V135.528H189.964V62.0691ZM67.5333 172.257H32.8962L12.8249 322.797C19.7176 328.192 28.1706 331.217 36.9255 331.418C45.9943 331.253 54.7372 328.016 61.7286 322.235L69.4597 256.525L73.6905 220.518L73.6959 220.519L73.6967 220.512L85.8531 221.947L82.8012 247.893L74.0039 322.762C80.9011 328.183 89.3687 331.217 98.141 331.418C107.12 331.253 115.785 328.079 122.747 322.406L123.938 297.417L128.692 196.331L140.923 196.904L140.917 197.027L140.992 197.03L135.664 308.671L135.038 321.983C157.776 334.55 185.379 334.563 208.132 322.014L202.207 215.452L202.22 215.451L202.219 215.442L214.442 214.764L214.442 214.765L214.451 214.764L219.161 299.718L220.419 322.366C227.401 328.032 236.068 331.214 245.058 331.418C253.801 331.265 262.257 328.255 269.132 322.848L257.331 234.319L257.356 234.315L257.352 234.285L269.488 232.665L281.437 322.268C295.449 334.299 316.076 334.545 330.372 322.848L307.039 147.771H36.1603L34.5313 160.014H67.5333L67.5333 160.014L67.5333 172.257L67.5333 172.257ZM92.0195 160.014H79.7764V172.257H92.0195V160.014ZM300.152 294.688H312.395V306.931H300.152V294.688Z" fill="black"/></svg>      </span>
      <span class="c_t-colF p-d_h-t">Замовлення столика</span>
    </button>
  </div>
  <div *ngIf="isError" class="error-text">{{isError}}</div>
  <div class="p-d_btn-cont" *ngIf="!orderType">
    <button type="button" class="btn-red p-d_btn" (click)="isDoOrder=false">Скасувати</button>
  </div>
</ng-template>
<ng-template #popTypeOrderDelivery>
  <div class="p-d_c">
    <div class="p-d_i">
        <span class="p-d_i_svg">
            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512" width="20" height="20" fill="#00a3ff"><g><g><path d="M506.555,208.064L263.859,30.367c-4.68-3.426-11.038-3.426-15.716,0L5.445,208.064c-5.928,4.341-7.216,12.665-2.875,18.593s12.666,7.214,18.593,2.875L256,57.588l234.837,171.943c2.368,1.735,5.12,2.57,7.848,2.57c4.096,0,8.138-1.885,10.744-5.445C513.771,220.729,512.483,212.405,506.555,208.064z"/></g></g><g><g><path d="M442.246,232.543c-7.346,0-13.303,5.956-13.303,13.303v211.749H322.521V342.009c0-36.68-29.842-66.52-66.52-66.52s-66.52,29.842-66.52,66.52v115.587H83.058V245.847c0-7.347-5.957-13.303-13.303-13.303s-13.303,5.956-13.303,13.303v225.053c0,7.347,5.957,13.303,13.303,13.303h133.029c6.996,0,12.721-5.405,13.251-12.267c0.032-0.311,0.052-0.651,0.052-1.036v-128.89c0-22.009,17.905-39.914,39.914-39.914s39.914,17.906,39.914,39.914v128.89c0,0.383,0.02,0.717,0.052,1.024c0.524,6.867,6.251,12.279,13.251,12.279h133.029c7.347,0,13.303-5.956,13.303-13.303V245.847C455.549,238.499,449.593,232.543,442.246,232.543z"/></g></g></svg>
        </span>
      <span class="c_t14">Адреса:</span>
      <span class="p-d-er c_t14 ev error">*</span>
      <div class="p-d_i-adr">
        <div class="flex">
          <input type="text" class="p-d_inp dropdown-trigger"
                 [(ngModel)]="address.address"
                 name="address"
                 placeholder="адреса доставки">
          <button class="btn btn-info btn-xs" (click)="getAddress()">Обрати адресу</button>
          <div class="wrap-address" *ngIf="isAddress">
            <ul *ngIf="addresses">
              <ng-container *ngIf="addresses.length>0">
                <li *ngFor="let adrs of addresses" (click)="checkAddress(adrs)">{{adrs.address}}</li>
              </ng-container>
              <ng-container *ngIf="addresses.length==0">
                <li>Список адрес порожній</li>
              </ng-container>

            </ul>
            <div class="clases-adress" (click)="getAddress()"></div>
          </div>
        </div>

        <!--<span class="c_t14 p-d_i-adr_op">9:00 - 23:00 <span class="c_t ev error">Зачинено</span></span>-->
      </div>
    </div>
    <div class="p-d_i">
        <span class="p-d_i_svg">
            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 516.375 516.375" width="20" height="20" fill="#00a3ff"><g><g><polygon points="487.688,310.781 487.688,272.531 449.438,272.531 363.758,272.531 325.125,310.781 428.792,310.781 345.789,393.784 368.931,416.925 449.438,336.418 449.438,435.094 487.688,396.461 "/><polygon points="124.312,377.719 219.938,377.719 219.938,282.094 315.562,282.094 315.562,176.906 420.75,176.906 420.75,81.281 516.375,81.281 516.375,43.031 382.5,43.031 382.5,138.656 277.312,138.656 277.312,243.844 181.688,243.844 181.688,339.469 86.062,339.469 86.062,435.094 0,435.094 0,473.344 124.312,473.344 "/></g></g></svg>
        </span>
      <span class="c_t14">Поверх:</span>
      <input type="number"
             [(ngModel)]="address.level"
             name="level"
             class="p-d_inp p-d_inp1">
    </div>
    <div class="p-d_i">
        <span class="p-d_i_svg">
            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 489.257 489.257" width="20" height="20" fill="#00a3ff"><g><g><circle cx="119.829" cy="19.9" r="19.9"/><circle cx="119.829" cy="104.6" r="19.9"/><circle cx="202.729" cy="19.9" r="19.9"/><circle cx="285.629" cy="19.9" r="19.9"/><path d="M173.129,370.9c-12.9-4.7-41.2-18.8-47.6-19.4c-10.6-1.8-21.8-2.4-32.3,2.9c-4.7,2.4-10,8.2-11.8,12.9c-3.5,9.4-1.2,15.3,8.2,18.2c21.2,7.1,41.2,17.6,60,30c7.1,4.7,17.6,10,24.7,15.3c10.6,7.6,21.2,11.2,32.9,13.5c0,0,46.4,9.4,84.1,38.2c12.3,9.4,29.4,8.8,41.2-0.6l71.1-58.2c5.9-5.3,7.6-14.1,3.5-21.2l-8.2-14.7c-2.4-5.9-6.5-14.7-9.4-25.3c-5.9-41.2-27.6-83.5-35.9-98.8c-1.8-4.1-5.3-6.5-9.4-7.6c-74.7-17.6-140.5,7.6-140.5,7.6l-11.2-14.1c-8.8-11.8-18.2-22.9-27-34.7c-10-12.9-19.4-25.3-29.4-37.6c-7.1-8.8-18.8-10.6-27.6-4.7c-8.8,6.5-11.2,17-5.3,27c25.9,45.9,51.7,91.1,76.4,137c2.4,5.3,4.7,10.6,5.3,16.5C186.129,365.1,184.329,375,173.129,370.9z"/><circle cx="285.629" cy="189.3" r="19.9"/><circle cx="202.729" cy="104.6" r="19.9"/><circle cx="202.729" cy="189.3" r="19.9"/><circle cx="285.629" cy="104.6" r="19.9"/></g></g></svg>
        </span>
      <span class="c_t14">Код в під'їзд:</span>
      <input type="text"
             [(ngModel)]="address.codeKey"
             name="codeKey"
             class="p-d_inp p-d_inp1">
    </div>
    <div class="p-d_i">
      <span class="p-d_i_svg">
          <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 473.806 473.806" width="20" height="20" fill="#00a3ff"><g><g><path d="M374.456,293.506c-9.7-10.1-21.4-15.5-33.8-15.5c-12.3,0-24.1,5.3-34.2,15.4l-31.6,31.5c-2.6-1.4-5.2-2.7-7.7-4c-3.6-1.8-7-3.5-9.9-5.3c-29.6-18.8-56.5-43.3-82.3-75c-12.5-15.8-20.9-29.1-27-42.6c8.2-7.5,15.8-15.3,23.2-22.8c2.8-2.8,5.6-5.7,8.4-8.5c21-21,21-48.2,0-69.2l-27.3-27.3c-3.1-3.1-6.3-6.3-9.3-9.5c-6-6.2-12.3-12.6-18.8-18.6c-9.7-9.6-21.3-14.7-33.5-14.7s-24,5.1-34,14.7c-0.1,0.1-0.1,0.1-0.2,0.2l-34,34.3c-12.8,12.8-20.1,28.4-21.7,46.5c-2.4,29.2,6.2,56.4,12.8,74.2c16.2,43.7,40.4,84.2,76.5,127.6c43.8,52.3,96.5,93.6,156.7,122.7c23,10.9,53.7,23.8,88,26c2.1,0.1,4.3,0.2,6.3,0.2c23.1,0,42.5-8.3,57.7-24.8c0.1-0.2,0.3-0.3,0.4-0.5c5.2-6.3,11.2-12,17.5-18.1c4.3-4.1,8.7-8.4,13-12.9c9.9-10.3,15.1-22.3,15.1-34.6c0-12.4-5.3-24.3-15.4-34.3L374.456,293.506z M410.256,398.806C410.156,398.806,410.156,398.906,410.256,398.806c-3.9,4.2-7.9,8-12.2,12.2c-6.5,6.2-13.1,12.7-19.3,20c-10.1,10.8-22,15.9-37.6,15.9c-1.5,0-3.1,0-4.6-0.1c-29.7-1.9-57.3-13.5-78-23.4c-56.6-27.4-106.3-66.3-147.6-115.6c-34.1-41.1-56.9-79.1-72-119.9c-9.3-24.9-12.7-44.3-11.2-62.6c1-11.7,5.5-21.4,13.8-29.7l34.1-34.1c4.9-4.6,10.1-7.1,15.2-7.1c6.3,0,11.4,3.8,14.6,7c0.1,0.1,0.2,0.2,0.3,0.3c6.1,5.7,11.9,11.6,18,17.9c3.1,3.2,6.3,6.4,9.5,9.7l27.3,27.3c10.6,10.6,10.6,20.4,0,31c-2.9,2.9-5.7,5.8-8.6,8.6c-8.4,8.6-16.4,16.6-25.1,24.4c-0.2,0.2-0.4,0.3-0.5,0.5c-8.6,8.6-7,17-5.2,22.7c0.1,0.3,0.2,0.6,0.3,0.9c7.1,17.2,17.1,33.4,32.3,52.7l0.1,0.1c27.6,34,56.7,60.5,88.8,80.8c4.1,2.6,8.3,4.7,12.3,6.7c3.6,1.8,7,3.5,9.9,5.3c0.4,0.2,0.8,0.5,1.2,0.7c3.4,1.7,6.6,2.5,9.9,2.5c8.3,0,13.5-5.2,15.2-6.9l34.2-34.2c3.4-3.4,8.8-7.5,15.1-7.5c6.2,0,11.3,3.9,14.4,7.3c0.1,0.1,0.1,0.1,0.2,0.2l55.1,55.1C420.456,377.706,420.456,388.206,410.256,398.806z"/><path d="M256.056,112.706c26.2,4.4,50,16.8,69,35.8s31.3,42.8,35.8,69c1.1,6.6,6.8,11.2,13.3,11.2c0.8,0,1.5-0.1,2.3-0.2c7.4-1.2,12.3-8.2,11.1-15.6c-5.4-31.7-20.4-60.6-43.3-83.5s-51.8-37.9-83.5-43.3c-7.4-1.2-14.3,3.7-15.6,11S248.656,111.506,256.056,112.706z"/><path d="M473.256,209.006c-8.9-52.2-33.5-99.7-71.3-137.5s-85.3-62.4-137.5-71.3c-7.3-1.3-14.2,3.7-15.5,11c-1.2,7.4,3.7,14.3,11.1,15.6c46.6,7.9,89.1,30,122.9,63.7c33.8,33.8,55.8,76.3,63.7,122.9c1.1,6.6,6.8,11.2,13.3,11.2c0.8,0,1.5-0.1,2.3-0.2C469.556,223.306,474.556,216.306,473.256,209.006z"/></g></g></svg>
      </span>
      <span class="c_t14">Телефон:</span>
      <input type="number" class="p-d_inp p-d_inp2"
             [(ngModel)]="activeBaskets.anyMobile"
             name="mobile"
             placeholder="{{mobile}}">
    </div>
    <div class="p-d_i p-d_i1">
      <div class="p-d_i-i">
          <span class="p-d_i_svg">
              <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 97.16 97.16" width="20" height="20" fill="#00a3ff"><g><g><path d="M48.58,0C21.793,0,0,21.793,0,48.58s21.793,48.58,48.58,48.58s48.58-21.793,48.58-48.58S75.367,0,48.58,0z M48.58,86.823c-21.087,0-38.244-17.155-38.244-38.243S27.493,10.337,48.58,10.337S86.824,27.492,86.824,48.58S69.667,86.823,48.58,86.823z"/><path d="M73.898,47.08H52.066V20.83c0-2.209-1.791-4-4-4c-2.209,0-4,1.791-4,4v30.25c0,2.209,1.791,4,4,4h25.832c2.209,0,4-1.791,4-4S76.107,47.08,73.898,47.08z"/></g></g></svg>
          </span>
        <span class="c_t14">Час доставки:</span>
      </div>
      <div class="p-d_i-i1">
        <div  class="p-d_ch-c">
          <!--<ng-container *ngIf="activeBaskets.deliveryTime != 'false'">-->
            <!--{{activeBaskets.deliveryTime | date: 'dd/MM/yy HH:mm'}}-->
          <!--</ng-container>-->
          <label class="p-d_ch">
            <input name="delivery" value="false" type="radio"
                   [checked]="activeBaskets.deliveryTime == 'false'"
                   [(ngModel)]="activeBaskets.deliveryTime" (change)="timeCheck(activeBaskets)">
            <span class="p-d_ch-i o5">Якомога швидше</span>
          </label>
          <label class="p-d_ch">
            <input name="delivery" value="{{dataStart}}" type="radio"
                   [checked]="activeBaskets.deliveryTime != 'false'"
                   [(ngModel)]="activeBaskets.deliveryTime" (change)="timeCheck(activeBaskets)">
            <span class="p-d_ch-i o5">Бажаний час</span>
          </label>
        </div>
        <div class="p-d_ch-c" *ngIf="activeBaskets.deliveryTime != 'false'">
          <div class="date-wrap">
            <div class="time-input">{{dataStart | date:'dd/MM/yy'}}</div>
            <ngb-datepicker #dp
              [minDate]="startDay"
              [maxDate]="endDay"
              [(ngModel)]="model"
              (select)="dataSelected($event)"
            ></ngb-datepicker>
          </div>
          <div class="time-wrap">
            <div class="time-input">{{dataStart | date:'HH:mm'}}</div>
            <ngb-timepicker [(ngModel)]="timeStart" [minuteStep]="10"></ngb-timepicker>
            <!--<div class="center">
              <span class="dt_t" *ngIf="activeBaskets.deliveryWorkTime.isTimeRange">Графік: {{activeBaskets.deliveryWorkTime.timeStart}} - {{activeBaskets.deliveryWorkTime.timeEnd}}</span>
              <span class="dt_t" *ngIf="activeBaskets.deliveryWorkTime.isAllTime">Графік: цілодобово</span>
              <span class="dt_t" *ngIf="activeBaskets.deliveryWorkTime.isWeekend">Графік: вихідний</span>
            </div>-->
          </div>
        </div>
      </div>
    </div>
    <div class="p-d_i p-d_i2">
      <div class="p-d_i">
          <span class="p-d_i_svg">
              <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512" width="20" height="20" fill="#00a3ff"><g><g><path d="M437.02,74.98C388.668,26.628,324.38,0,256,0S123.332,26.628,74.98,74.98C26.629,123.332,0,187.62,0,256s26.629,132.668,74.98,181.02C123.332,485.372,187.62,512,256,512s132.668-26.628,181.02-74.98C485.371,388.668,512,324.38,512,256S485.371,123.332,437.02,74.98z M256,482C131.383,482,30,380.617,30,256S131.383,30,256,30s226,101.383,226,226S380.617,482,256,482z"/></g></g><g><g><path d="M272.067,241h-32.134c-18.307,0-33.2-14.893-33.2-33.199c0-18.307,14.894-33.2,33.2-33.2H304.2c8.284,0,15-6.716,15-15s-6.716-15-15-15H271v-33.2c0-8.284-6.716-15-15-15s-15,6.716-15,15v33.2h-1.066c-34.849,0-63.2,28.352-63.2,63.2c0,34.848,28.352,63.199,63.2,63.199h32.134c18.306,0,33.199,14.894,33.199,33.2c0,18.306-14.893,33.2-33.199,33.2h-64.267c-8.284,0-15,6.716-15,15s6.716,15,15,15H241v33.201c0,8.284,6.716,15,15,15s15-6.716,15-15V367.4h1.067c34.848,0,63.199-28.352,63.199-63.2S306.915,241,272.067,241z"/></g></g></svg>
          </span>
        <span class="c_t14">Оплата:</span>
        <div class="select-tr select-tr1">
          <select [(ngModel)]="activeBaskets.paymentType">
            <option name="paymentType" value="fiat" selected>Готівкою кур'єру</option>
            <option name="paymentType" value="card" *ngIf="isCart">Карткою</option>
            <option name="paymentType" value="coin"
                    *ngIf="me.foodcoin>=(activeBaskets.totalPrice +
                    (activeBaskets.boxesPrice || 0) + (activeBaskets.deliveryPrice || 0))">
              FoodCoin
            </option>
            <option name="paymentType" value="coin" disabled style="color:red"
                    *ngIf="me.foodcoin<(activeBaskets.totalPrice +
                    (activeBaskets.boxesPrice || 0) + (activeBaskets.deliveryPrice || 0))">
              FoodCoin (не достатньо для оплати замовлення)
            </option>
          </select>
        </div>
      </div>
      <div class="p-d_i" *ngIf="activeBaskets.paymentType == 'fiat'">
        <span class="p-d_i_svg">
          <svg viewBox="0 0 511 511.99978" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#00a3ff"><path d="m235.792969 347.265625c3.902343-3.910156 3.902343-10.238281 0-14.148437-3.90625-3.898438-10.234375-3.898438-14.144531 0-3.898438 3.910156-3.898438 10.238281 0 14.148437 3.910156 3.898437 10.238281 3.898437 14.144531 0zm0 0"/><path d="m188.449219 109.96875c0 60.636719 49.332031 109.972656 109.96875 109.972656s109.96875-49.335937 109.96875-109.972656-49.332031-109.96875-109.96875-109.96875-109.96875 49.332031-109.96875 109.96875zm199.945312 0c0 49.613281-40.363281 89.976562-89.976562 89.976562s-89.976563-40.363281-89.976563-89.976562c0-49.609375 40.363282-89.972656 89.976563-89.972656s89.976562 40.363281 89.976562 89.972656zm0 0"/><path d="m115.652344 509.042969c3.875 3.90625 10.183594 3.949219 14.109375.082031l48.46875-47.75c8.234375-8.234375 10.738281-20.425781 7.117187-31.023438l10.425782-10.054687c5.613281-5.421875 13.003906-8.410156 20.816406-8.410156h132.902344c23.578124 0 45.863281-9.054688 62.757812-25.496094.695312-.675781-5.277344 6.359375 90.667969-108.3125 14.230469-16.835937 12.101562-42.117187-4.75-56.363281-16.746094-14.113282-41.832031-12.085938-56.101563 4.460937l-58.992187 60.632813c-7.449219-9.167969-18.808594-14.882813-31.082031-14.882813h-111.480469c-15.863281-6.636719-32.695313-9.996093-50.0625-9.996093-48.140625 0-90.175781 22.234374-112.734375 63.921874-9.503906-1.800781-19.527344 1.074219-26.738282 8.285157l-47.558593 47.699219c-3.882813 3.894531-3.890625 10.195312-.015625 14.101562zm74.792968-227.121094c15.3125 0 30.117188 3.082031 44.011719 9.160156 1.265625.554688 2.628907.839844 4.007813.839844h113.527344c10.839843 0 19.996093 8.839844 19.996093 19.992187 0 11.027344-8.96875 19.996094-19.996093 19.996094h-81.566407c-5.519531 0-9.996093 4.476563-9.996093 9.996094 0 5.523438 4.476562 9.996094 9.996093 9.996094h81.566407c22.050781 0 39.988281-17.9375 39.988281-39.988282 0-1.757812-.125-3.5-.351563-5.226562 57.066406-58.660156 65.113282-66.902344 65.457032-67.3125 7.125-8.410156 19.773437-9.476562 28.1875-2.382812 8.421874 7.121093 9.488281 19.761718 2.34375 28.21875l-89.667969 107.195312c-13.09375 12.570312-30.285157 19.488281-48.457031 19.488281h-132.902344c-13.023438 0-25.351563 4.980469-34.703125 14.015625l-8.496094 8.199219-78.320313-78.316406c18.304688-34.339844 52.652344-53.871094 95.375-53.871094zm-125.320312 66.34375c3.296875-3.296875 8.359375-3.890625 12.378906-1.40625 1.730469 1.054687-3.238281-3.46875 86.589844 86.234375 3.996094 3.996094 3.78125 10.363281.054688 14.089844l-41.320313 40.707031-98.230469-98.980469zm0 0"/><path d="m286.421875 49.988281v11.714844c-11.636719 4.125-19.996094 15.238281-19.996094 28.273437 0 16.535157 13.453125 29.992188 29.992188 29.992188 5.511719 0 9.996093 4.484375 9.996093 9.996094 0 5.511718-4.484374 9.996094-9.996093 9.996094-4.269531 0-8.882813-2.683594-12.980469-7.5625-3.554688-4.226563-9.859375-4.769532-14.085938-1.21875-4.226562 3.554687-4.773437 9.859374-1.21875 14.085937 5.34375 6.355469 11.628907 10.785156 18.289063 13.019531v11.667969c0 5.523437 4.476563 9.996094 9.996094 9.996094s9.996093-4.472657 9.996093-9.996094v-11.714844c11.636719-4.128906 19.996094-15.242187 19.996094-28.273437 0-16.539063-13.453125-29.992188-29.992187-29.992188-5.511719 0-9.996094-4.484375-9.996094-9.996094 0-5.511718 4.484375-10 9.996094-10 3.542969 0 7.28125 1.808594 10.8125 5.226563 3.96875 3.839844 10.296875 3.734375 14.136719-.230469 3.839843-3.96875 3.734374-10.296875-.230469-14.136718-5.074219-4.910157-10.152344-7.6875-14.722657-9.203126v-11.644531c0-5.523437-4.476562-10-9.996093-10s-9.996094 4.476563-9.996094 10zm0 0"/></svg>
        </span>
        <span class="c_t14">Решта з: </span>
        <input type="number" class="us_inp p-d_inp-s" [(ngModel)]="activeBaskets.paymentDetail.fiatVal">
        <span class="c_t14">грн.</span>
      </div>
    </div>
  </div>
  <div class="p-d_comment">
    <textarea name="coment" [(ngModel)]="activeBaskets.orderCommentData[0].text"
              [ngModelOptions]="{standalone: true}"
              class="ord_cm_t" placeholder="Коментар до замовлення"></textarea>
    <div class="ord_cm_t-f">{{activeBaskets.orderCommentData[0].text}}</div>
  </div>
  <label class="p-d_ch p-d_ch1">
    <input type="checkbox" name="isCall" value="true" [(ngModel)]="activeBaskets.isCall">
    <span class="p-d_ch-i">обов'язково зателефонуйте</span>
  </label>
  <mz-collapsible
    [mode]="'accordion'"
    [onClose]=""
    [onOpen]=""
    [popout]="false"
    class="dt_p-d">
    <mz-collapsible-item [active]="false">
      <mz-collapsible-item-header class="dt_h">
        <span class="dt_h_t">Деталі замовлення</span>
        <div class="dt_h_svg">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129 129" width="15" height="15"> <g> <path d="m121.3,34.6c-1.6-1.6-4.2-1.6-5.8,0l-51,51.1-51.1-51.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l53.9,53.9c0.8,0.8 1.8,1.2 2.9,1.2 1,0 2.1-0.4 2.9-1.2l53.9-53.9c1.7-1.6 1.7-4.2 0.1-5.8z"/> </g></svg>
        </div>
      </mz-collapsible-item-header>
      <mz-collapsible-item-body class="dt_c">
        <div class="dt_i">
          <span class="dt_t">Вартість замовлення:</span>
          <span class="dt_t">{{activeBaskets.totalPrice}} грн.</span>
        </div>
        <div class="dt_i">
          <span class="dt_t">Вартість пакування:</span>
          <span class="dt_t">{{activeBaskets.boxesPrice}} грн.</span>
        </div>
        <div class="dt_i" *ngIf="activeBaskets.deliveryPrice">
          <span class="dt_t">Вартість доставки:</span>
          <span class="dt_t">{{activeBaskets.deliveryPrice}} грн.</span>
        </div>
      </mz-collapsible-item-body>
    </mz-collapsible-item>
  </mz-collapsible>

  <div class="ord_in p-d_in">
    <p class="ord_in_i">
      <span class="ord_in_i-t">Загальна вартість:</span>
      <span class="ord_in_i-val">{{activeBaskets.totalPrice + activeBaskets.deliveryPrice + activeBaskets.boxesPrice}} грн.</span>
    </p>
  </div>
  <div *ngIf="isError" class="error-text">{{isError}}</div>
  <div class="p-d_btn-cont">
    <button type="button" class="btn-red p-d_btn" (click)="isDoOrder=false">Скасувати</button>
    <button type="button" class="btn-green p-d_btn"
            (click)="doOrderDelivery()">Замовити</button>
  </div>
</ng-template>
<ng-template #popTypeOrderBeSelf>
  <div class="p-d_c">
    <div class="p-d_i">
        <span class="p-d_i_svg">
            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512" width="20" height="20" fill="#00a3ff"><g><g><path d="M506.555,208.064L263.859,30.367c-4.68-3.426-11.038-3.426-15.716,0L5.445,208.064c-5.928,4.341-7.216,12.665-2.875,18.593s12.666,7.214,18.593,2.875L256,57.588l234.837,171.943c2.368,1.735,5.12,2.57,7.848,2.57c4.096,0,8.138-1.885,10.744-5.445C513.771,220.729,512.483,212.405,506.555,208.064z"/></g></g><g><g><path d="M442.246,232.543c-7.346,0-13.303,5.956-13.303,13.303v211.749H322.521V342.009c0-36.68-29.842-66.52-66.52-66.52s-66.52,29.842-66.52,66.52v115.587H83.058V245.847c0-7.347-5.957-13.303-13.303-13.303s-13.303,5.956-13.303,13.303v225.053c0,7.347,5.957,13.303,13.303,13.303h133.029c6.996,0,12.721-5.405,13.251-12.267c0.032-0.311,0.052-0.651,0.052-1.036v-128.89c0-22.009,17.905-39.914,39.914-39.914s39.914,17.906,39.914,39.914v128.89c0,0.383,0.02,0.717,0.052,1.024c0.524,6.867,6.251,12.279,13.251,12.279h133.029c7.347,0,13.303-5.956,13.303-13.303V245.847C455.549,238.499,449.593,232.543,442.246,232.543z"/></g></g></svg>
        </span>
      <span class="c_t14">Адреса:</span>
      <span class="p-d-er c_t14 ev error">*</span>
      <div class="p-d_i-adr">
        <div class="flex">
          <input type="text" class="p-d_inp dropdown-trigger"
                 [(ngModel)]="estAddress.address"
                 name="address"
                 placeholder="адреса закладу" disabled>
          <button class="btn btn-info btn-xs" *ngIf="estAdres.length>1" (click)="getEstAddress()">Оберіть заклад</button>
          <div class="wrap-address" *ngIf="isAddress">
            <ul *ngIf="estAdres">
              <ng-container *ngIf="estAdres.length>0">
                <li *ngFor="let adrs of estAdres" (click)="checkEstAddress(adrs)">{{adrs.address}}</li>
              </ng-container>
              <ng-container *ngIf="estAdres.length==0">
                <li>Список адрес порожній</li>
              </ng-container>

            </ul>
            <div class="clases-adress" (click)="getEstAddress()"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="p-d_i">
      <span class="p-d_i_svg">
          <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 473.806 473.806" width="20" height="20" fill="#00a3ff"><g><g><path d="M374.456,293.506c-9.7-10.1-21.4-15.5-33.8-15.5c-12.3,0-24.1,5.3-34.2,15.4l-31.6,31.5c-2.6-1.4-5.2-2.7-7.7-4c-3.6-1.8-7-3.5-9.9-5.3c-29.6-18.8-56.5-43.3-82.3-75c-12.5-15.8-20.9-29.1-27-42.6c8.2-7.5,15.8-15.3,23.2-22.8c2.8-2.8,5.6-5.7,8.4-8.5c21-21,21-48.2,0-69.2l-27.3-27.3c-3.1-3.1-6.3-6.3-9.3-9.5c-6-6.2-12.3-12.6-18.8-18.6c-9.7-9.6-21.3-14.7-33.5-14.7s-24,5.1-34,14.7c-0.1,0.1-0.1,0.1-0.2,0.2l-34,34.3c-12.8,12.8-20.1,28.4-21.7,46.5c-2.4,29.2,6.2,56.4,12.8,74.2c16.2,43.7,40.4,84.2,76.5,127.6c43.8,52.3,96.5,93.6,156.7,122.7c23,10.9,53.7,23.8,88,26c2.1,0.1,4.3,0.2,6.3,0.2c23.1,0,42.5-8.3,57.7-24.8c0.1-0.2,0.3-0.3,0.4-0.5c5.2-6.3,11.2-12,17.5-18.1c4.3-4.1,8.7-8.4,13-12.9c9.9-10.3,15.1-22.3,15.1-34.6c0-12.4-5.3-24.3-15.4-34.3L374.456,293.506z M410.256,398.806C410.156,398.806,410.156,398.906,410.256,398.806c-3.9,4.2-7.9,8-12.2,12.2c-6.5,6.2-13.1,12.7-19.3,20c-10.1,10.8-22,15.9-37.6,15.9c-1.5,0-3.1,0-4.6-0.1c-29.7-1.9-57.3-13.5-78-23.4c-56.6-27.4-106.3-66.3-147.6-115.6c-34.1-41.1-56.9-79.1-72-119.9c-9.3-24.9-12.7-44.3-11.2-62.6c1-11.7,5.5-21.4,13.8-29.7l34.1-34.1c4.9-4.6,10.1-7.1,15.2-7.1c6.3,0,11.4,3.8,14.6,7c0.1,0.1,0.2,0.2,0.3,0.3c6.1,5.7,11.9,11.6,18,17.9c3.1,3.2,6.3,6.4,9.5,9.7l27.3,27.3c10.6,10.6,10.6,20.4,0,31c-2.9,2.9-5.7,5.8-8.6,8.6c-8.4,8.6-16.4,16.6-25.1,24.4c-0.2,0.2-0.4,0.3-0.5,0.5c-8.6,8.6-7,17-5.2,22.7c0.1,0.3,0.2,0.6,0.3,0.9c7.1,17.2,17.1,33.4,32.3,52.7l0.1,0.1c27.6,34,56.7,60.5,88.8,80.8c4.1,2.6,8.3,4.7,12.3,6.7c3.6,1.8,7,3.5,9.9,5.3c0.4,0.2,0.8,0.5,1.2,0.7c3.4,1.7,6.6,2.5,9.9,2.5c8.3,0,13.5-5.2,15.2-6.9l34.2-34.2c3.4-3.4,8.8-7.5,15.1-7.5c6.2,0,11.3,3.9,14.4,7.3c0.1,0.1,0.1,0.1,0.2,0.2l55.1,55.1C420.456,377.706,420.456,388.206,410.256,398.806z"/><path d="M256.056,112.706c26.2,4.4,50,16.8,69,35.8s31.3,42.8,35.8,69c1.1,6.6,6.8,11.2,13.3,11.2c0.8,0,1.5-0.1,2.3-0.2c7.4-1.2,12.3-8.2,11.1-15.6c-5.4-31.7-20.4-60.6-43.3-83.5s-51.8-37.9-83.5-43.3c-7.4-1.2-14.3,3.7-15.6,11S248.656,111.506,256.056,112.706z"/><path d="M473.256,209.006c-8.9-52.2-33.5-99.7-71.3-137.5s-85.3-62.4-137.5-71.3c-7.3-1.3-14.2,3.7-15.5,11c-1.2,7.4,3.7,14.3,11.1,15.6c46.6,7.9,89.1,30,122.9,63.7c33.8,33.8,55.8,76.3,63.7,122.9c1.1,6.6,6.8,11.2,13.3,11.2c0.8,0,1.5-0.1,2.3-0.2C469.556,223.306,474.556,216.306,473.256,209.006z"/></g></g></svg>
      </span>
      <span class="c_t14">Телефон:</span>
      <input type="number" class="p-d_inp p-d_inp2"
             [(ngModel)]="activeBaskets.anyMobile"
             name="mobile"
             placeholder="{{mobile}}">
    </div>
    <div class="p-d_i p-d_i1">
      <div class="p-d_i-i">
          <span class="p-d_i_svg">
              <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 97.16 97.16" width="20" height="20" fill="#00a3ff"><g><g><path d="M48.58,0C21.793,0,0,21.793,0,48.58s21.793,48.58,48.58,48.58s48.58-21.793,48.58-48.58S75.367,0,48.58,0z M48.58,86.823c-21.087,0-38.244-17.155-38.244-38.243S27.493,10.337,48.58,10.337S86.824,27.492,86.824,48.58S69.667,86.823,48.58,86.823z"/><path d="M73.898,47.08H52.066V20.83c0-2.209-1.791-4-4-4c-2.209,0-4,1.791-4,4v30.25c0,2.209,1.791,4,4,4h25.832c2.209,0,4-1.791,4-4S76.107,47.08,73.898,47.08z"/></g></g></svg>
          </span>
        <span class="c_t14">Дата і час:</span>
        <span class="p-d-er c_t14 ev error">*</span>
      </div>
      <div class="p-d_i-i1">
        <div class="p-d_ch-c">
          <div class="date-wrap">
            <div class="time-input" *ngIf="dataStart">{{dataStart | date:'dd/MM/yy'}}</div>
            <ngb-datepicker #dp
              [minDate]="startDay"
              [maxDate]="endDay"
              [(ngModel)]="model"
              (select)="dataSelected($event)"></ngb-datepicker>
          </div>
          <div class="time-wrap">
            <div class="time-input">{{dataStart | date:'HH:mm'}}</div>
            <ngb-timepicker [(ngModel)]="timeStart" [minuteStep]="10"></ngb-timepicker>
            <!--<div class="center">
              <span class="dt_t" *ngIf="activeBaskets.deliveryWorkTime.isTimeRange">Графік: {{activeBaskets.deliveryWorkTime.timeStart}} - {{activeBaskets.deliveryWorkTime.timeEnd}}</span>
              <span class="dt_t" *ngIf="activeBaskets.deliveryWorkTime.isAllTime">Графік: цілодобово</span>
              <span class="dt_t" *ngIf="activeBaskets.deliveryWorkTime.isWeekend">Графік: вихідний</span>
            </div>-->
          </div>
        </div>
      </div>
    </div>
    <div class="p-d_i p-d_i2">
      <div class="p-d_i">
          <span class="p-d_i_svg">
              <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512" width="20" height="20" fill="#00a3ff"><g><g><path d="M437.02,74.98C388.668,26.628,324.38,0,256,0S123.332,26.628,74.98,74.98C26.629,123.332,0,187.62,0,256s26.629,132.668,74.98,181.02C123.332,485.372,187.62,512,256,512s132.668-26.628,181.02-74.98C485.371,388.668,512,324.38,512,256S485.371,123.332,437.02,74.98z M256,482C131.383,482,30,380.617,30,256S131.383,30,256,30s226,101.383,226,226S380.617,482,256,482z"/></g></g><g><g><path d="M272.067,241h-32.134c-18.307,0-33.2-14.893-33.2-33.199c0-18.307,14.894-33.2,33.2-33.2H304.2c8.284,0,15-6.716,15-15s-6.716-15-15-15H271v-33.2c0-8.284-6.716-15-15-15s-15,6.716-15,15v33.2h-1.066c-34.849,0-63.2,28.352-63.2,63.2c0,34.848,28.352,63.199,63.2,63.199h32.134c18.306,0,33.199,14.894,33.199,33.2c0,18.306-14.893,33.2-33.199,33.2h-64.267c-8.284,0-15,6.716-15,15s6.716,15,15,15H241v33.201c0,8.284,6.716,15,15,15s15-6.716,15-15V367.4h1.067c34.848,0,63.199-28.352,63.199-63.2S306.915,241,272.067,241z"/></g></g></svg>
          </span>
        <span class="c_t14">Оплата:</span>
        <div class="select-tr select-tr1">
          <select [(ngModel)]="activeBaskets.paymentType">
            <option name="paymentType" value="fiat" selected>Готівкою</option>
            <option name="paymentType" value="card" *ngIf="isCart">Карткою</option>
            <option name="paymentType" value="coin"
                    *ngIf="me.foodcoin>=(activeBaskets.totalPrice + (activeBaskets.boxesPrice || 0))">
                    FoodCoin
            </option>
            <option name="paymentType" value="coin" disabled style="color:red"
                    *ngIf="me.foodcoin<(activeBaskets.totalPrice + (activeBaskets.boxesPrice || 0))">
              FoodCoin (не достатньо для оплати замовлення)
            </option>
          </select>
        </div>
      </div>
      <!--<div class="p-d_i" *ngIf="activeBaskets.paymentType == 'fiat'">-->
        <!--<span class="p-d_i_svg">-->
          <!--<svg viewBox="0 0 511 511.99978" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#00a3ff"><path d="m235.792969 347.265625c3.902343-3.910156 3.902343-10.238281 0-14.148437-3.90625-3.898438-10.234375-3.898438-14.144531 0-3.898438 3.910156-3.898438 10.238281 0 14.148437 3.910156 3.898437 10.238281 3.898437 14.144531 0zm0 0"/><path d="m188.449219 109.96875c0 60.636719 49.332031 109.972656 109.96875 109.972656s109.96875-49.335937 109.96875-109.972656-49.332031-109.96875-109.96875-109.96875-109.96875 49.332031-109.96875 109.96875zm199.945312 0c0 49.613281-40.363281 89.976562-89.976562 89.976562s-89.976563-40.363281-89.976563-89.976562c0-49.609375 40.363282-89.972656 89.976563-89.972656s89.976562 40.363281 89.976562 89.972656zm0 0"/><path d="m115.652344 509.042969c3.875 3.90625 10.183594 3.949219 14.109375.082031l48.46875-47.75c8.234375-8.234375 10.738281-20.425781 7.117187-31.023438l10.425782-10.054687c5.613281-5.421875 13.003906-8.410156 20.816406-8.410156h132.902344c23.578124 0 45.863281-9.054688 62.757812-25.496094.695312-.675781-5.277344 6.359375 90.667969-108.3125 14.230469-16.835937 12.101562-42.117187-4.75-56.363281-16.746094-14.113282-41.832031-12.085938-56.101563 4.460937l-58.992187 60.632813c-7.449219-9.167969-18.808594-14.882813-31.082031-14.882813h-111.480469c-15.863281-6.636719-32.695313-9.996093-50.0625-9.996093-48.140625 0-90.175781 22.234374-112.734375 63.921874-9.503906-1.800781-19.527344 1.074219-26.738282 8.285157l-47.558593 47.699219c-3.882813 3.894531-3.890625 10.195312-.015625 14.101562zm74.792968-227.121094c15.3125 0 30.117188 3.082031 44.011719 9.160156 1.265625.554688 2.628907.839844 4.007813.839844h113.527344c10.839843 0 19.996093 8.839844 19.996093 19.992187 0 11.027344-8.96875 19.996094-19.996093 19.996094h-81.566407c-5.519531 0-9.996093 4.476563-9.996093 9.996094 0 5.523438 4.476562 9.996094 9.996093 9.996094h81.566407c22.050781 0 39.988281-17.9375 39.988281-39.988282 0-1.757812-.125-3.5-.351563-5.226562 57.066406-58.660156 65.113282-66.902344 65.457032-67.3125 7.125-8.410156 19.773437-9.476562 28.1875-2.382812 8.421874 7.121093 9.488281 19.761718 2.34375 28.21875l-89.667969 107.195312c-13.09375 12.570312-30.285157 19.488281-48.457031 19.488281h-132.902344c-13.023438 0-25.351563 4.980469-34.703125 14.015625l-8.496094 8.199219-78.320313-78.316406c18.304688-34.339844 52.652344-53.871094 95.375-53.871094zm-125.320312 66.34375c3.296875-3.296875 8.359375-3.890625 12.378906-1.40625 1.730469 1.054687-3.238281-3.46875 86.589844 86.234375 3.996094 3.996094 3.78125 10.363281.054688 14.089844l-41.320313 40.707031-98.230469-98.980469zm0 0"/><path d="m286.421875 49.988281v11.714844c-11.636719 4.125-19.996094 15.238281-19.996094 28.273437 0 16.535157 13.453125 29.992188 29.992188 29.992188 5.511719 0 9.996093 4.484375 9.996093 9.996094 0 5.511718-4.484374 9.996094-9.996093 9.996094-4.269531 0-8.882813-2.683594-12.980469-7.5625-3.554688-4.226563-9.859375-4.769532-14.085938-1.21875-4.226562 3.554687-4.773437 9.859374-1.21875 14.085937 5.34375 6.355469 11.628907 10.785156 18.289063 13.019531v11.667969c0 5.523437 4.476563 9.996094 9.996094 9.996094s9.996093-4.472657 9.996093-9.996094v-11.714844c11.636719-4.128906 19.996094-15.242187 19.996094-28.273437 0-16.539063-13.453125-29.992188-29.992187-29.992188-5.511719 0-9.996094-4.484375-9.996094-9.996094 0-5.511718 4.484375-10 9.996094-10 3.542969 0 7.28125 1.808594 10.8125 5.226563 3.96875 3.839844 10.296875 3.734375 14.136719-.230469 3.839843-3.96875 3.734374-10.296875-.230469-14.136718-5.074219-4.910157-10.152344-7.6875-14.722657-9.203126v-11.644531c0-5.523437-4.476562-10-9.996093-10s-9.996094 4.476563-9.996094 10zm0 0"/></svg>-->
        <!--</span>-->
        <!--<span class="c_t14">Сума:</span>-->
        <!--<input type="number" class="us_inp p-d_inp-s" [(ngModel)]="activeBaskets.paymentDetail.fiatVal" placeholder="1000">-->
        <!--<span class="c_t14">грн.</span>-->
      <!--</div>-->
    </div>
  </div>
  <div class="p-d_comment">
    <textarea name="coment" [(ngModel)]="activeBaskets.orderCommentData[0].text"
              [ngModelOptions]="{standalone: true}"
              class="ord_cm_t" placeholder="Коментар до замовлення"></textarea>
    <div class="ord_cm_t-f">{{activeBaskets.orderCommentData[0].text}}</div>
  </div>
  <label class="p-d_ch p-d_ch1">
    <input type="checkbox" name="isCall" value="true" [(ngModel)]="activeBaskets.isCall">
    <span class="p-d_ch-i">обов'язково зателефонуйте</span>
  </label>
  <mz-collapsible
    [mode]="'accordion'"
    [onClose]=""
    [onOpen]=""
    [popout]="false"
    class="dt_p-d">
    <mz-collapsible-item [active]="false">
      <mz-collapsible-item-header class="dt_h">
        <span class="dt_h_t">Деталі замовлення</span>
        <div class="dt_h_svg">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129 129" width="15" height="15"> <g> <path d="m121.3,34.6c-1.6-1.6-4.2-1.6-5.8,0l-51,51.1-51.1-51.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l53.9,53.9c0.8,0.8 1.8,1.2 2.9,1.2 1,0 2.1-0.4 2.9-1.2l53.9-53.9c1.7-1.6 1.7-4.2 0.1-5.8z"/> </g></svg>
        </div>
      </mz-collapsible-item-header>
      <mz-collapsible-item-body class="dt_c">
        <div class="dt_i">
          <span class="dt_t">Вартість замовлення:</span>
          <span class="dt_t">{{activeBaskets.totalPrice}} грн.</span>
        </div>
        <div class="dt_i">
          <span class="dt_t">Вартість пакування:</span>
          <span class="dt_t">{{activeBaskets.boxesPrice}} грн.</span>
        </div>
      </mz-collapsible-item-body>
    </mz-collapsible-item>
  </mz-collapsible>

  <div class="ord_in p-d_in">
    <p class="ord_in_i">
      <span class="ord_in_i-t">Загальна вартість:</span>
      <span class="ord_in_i-val">{{activeBaskets.totalPrice + activeBaskets.boxesPrice}} грн.</span>
    </p>
  </div>
  <div *ngIf="isError" class="error-text">{{isError}}</div>
  <div class="p-d_btn-cont">
    <button type="button" class="btn-red p-d_btn" (click)="isDoOrder=false">Скасувати</button>
    <button type="button" class="btn-green p-d_btn"
            (click)="doOrderBySelf()">Замовити</button>
  </div>
</ng-template>
<ng-template #popTypeOrderReserve>
  <div class="p-d_c">
    <div class="p-d_i">
        <span class="p-d_i_svg">
            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512" width="20" height="20" fill="#00a3ff"><g><g><path d="M506.555,208.064L263.859,30.367c-4.68-3.426-11.038-3.426-15.716,0L5.445,208.064c-5.928,4.341-7.216,12.665-2.875,18.593s12.666,7.214,18.593,2.875L256,57.588l234.837,171.943c2.368,1.735,5.12,2.57,7.848,2.57c4.096,0,8.138-1.885,10.744-5.445C513.771,220.729,512.483,212.405,506.555,208.064z"/></g></g><g><g><path d="M442.246,232.543c-7.346,0-13.303,5.956-13.303,13.303v211.749H322.521V342.009c0-36.68-29.842-66.52-66.52-66.52s-66.52,29.842-66.52,66.52v115.587H83.058V245.847c0-7.347-5.957-13.303-13.303-13.303s-13.303,5.956-13.303,13.303v225.053c0,7.347,5.957,13.303,13.303,13.303h133.029c6.996,0,12.721-5.405,13.251-12.267c0.032-0.311,0.052-0.651,0.052-1.036v-128.89c0-22.009,17.905-39.914,39.914-39.914s39.914,17.906,39.914,39.914v128.89c0,0.383,0.02,0.717,0.052,1.024c0.524,6.867,6.251,12.279,13.251,12.279h133.029c7.347,0,13.303-5.956,13.303-13.303V245.847C455.549,238.499,449.593,232.543,442.246,232.543z"/></g></g></svg>
        </span>
      <span class="c_t14">Адреса:</span>
      <span class="p-d-er c_t14 ev error">*</span>
      <div class="p-d_i-adr">
        <div class="flex">
          <input type="text" class="p-d_inp dropdown-trigger"
                 [(ngModel)]="estAddress.address"
                 name="address"
                 placeholder="адреса закладу" disabled>
          <button class="btn btn-info btn-xs" *ngIf="estAdres.length>1" (click)="getEstAddress()">Оберіть заклад</button>
          <div class="wrap-address" *ngIf="isAddress">
            <ul *ngIf="estAdres">
              <ng-container *ngIf="estAdres.length>0">
                <li *ngFor="let adrs of estAdres" (click)="checkEstAddress(adrs)">{{adrs.address}}</li>
              </ng-container>
              <ng-container *ngIf="estAdres.length==0">
                <li>Список адрес порожній</li>
              </ng-container>

            </ul>
            <div class="clases-adress" (click)="getEstAddress()"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="p-d_i">
      <span class="p-d_i_svg">
          <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 473.806 473.806" width="20" height="20" fill="#00a3ff"><g><g><path d="M374.456,293.506c-9.7-10.1-21.4-15.5-33.8-15.5c-12.3,0-24.1,5.3-34.2,15.4l-31.6,31.5c-2.6-1.4-5.2-2.7-7.7-4c-3.6-1.8-7-3.5-9.9-5.3c-29.6-18.8-56.5-43.3-82.3-75c-12.5-15.8-20.9-29.1-27-42.6c8.2-7.5,15.8-15.3,23.2-22.8c2.8-2.8,5.6-5.7,8.4-8.5c21-21,21-48.2,0-69.2l-27.3-27.3c-3.1-3.1-6.3-6.3-9.3-9.5c-6-6.2-12.3-12.6-18.8-18.6c-9.7-9.6-21.3-14.7-33.5-14.7s-24,5.1-34,14.7c-0.1,0.1-0.1,0.1-0.2,0.2l-34,34.3c-12.8,12.8-20.1,28.4-21.7,46.5c-2.4,29.2,6.2,56.4,12.8,74.2c16.2,43.7,40.4,84.2,76.5,127.6c43.8,52.3,96.5,93.6,156.7,122.7c23,10.9,53.7,23.8,88,26c2.1,0.1,4.3,0.2,6.3,0.2c23.1,0,42.5-8.3,57.7-24.8c0.1-0.2,0.3-0.3,0.4-0.5c5.2-6.3,11.2-12,17.5-18.1c4.3-4.1,8.7-8.4,13-12.9c9.9-10.3,15.1-22.3,15.1-34.6c0-12.4-5.3-24.3-15.4-34.3L374.456,293.506z M410.256,398.806C410.156,398.806,410.156,398.906,410.256,398.806c-3.9,4.2-7.9,8-12.2,12.2c-6.5,6.2-13.1,12.7-19.3,20c-10.1,10.8-22,15.9-37.6,15.9c-1.5,0-3.1,0-4.6-0.1c-29.7-1.9-57.3-13.5-78-23.4c-56.6-27.4-106.3-66.3-147.6-115.6c-34.1-41.1-56.9-79.1-72-119.9c-9.3-24.9-12.7-44.3-11.2-62.6c1-11.7,5.5-21.4,13.8-29.7l34.1-34.1c4.9-4.6,10.1-7.1,15.2-7.1c6.3,0,11.4,3.8,14.6,7c0.1,0.1,0.2,0.2,0.3,0.3c6.1,5.7,11.9,11.6,18,17.9c3.1,3.2,6.3,6.4,9.5,9.7l27.3,27.3c10.6,10.6,10.6,20.4,0,31c-2.9,2.9-5.7,5.8-8.6,8.6c-8.4,8.6-16.4,16.6-25.1,24.4c-0.2,0.2-0.4,0.3-0.5,0.5c-8.6,8.6-7,17-5.2,22.7c0.1,0.3,0.2,0.6,0.3,0.9c7.1,17.2,17.1,33.4,32.3,52.7l0.1,0.1c27.6,34,56.7,60.5,88.8,80.8c4.1,2.6,8.3,4.7,12.3,6.7c3.6,1.8,7,3.5,9.9,5.3c0.4,0.2,0.8,0.5,1.2,0.7c3.4,1.7,6.6,2.5,9.9,2.5c8.3,0,13.5-5.2,15.2-6.9l34.2-34.2c3.4-3.4,8.8-7.5,15.1-7.5c6.2,0,11.3,3.9,14.4,7.3c0.1,0.1,0.1,0.1,0.2,0.2l55.1,55.1C420.456,377.706,420.456,388.206,410.256,398.806z"/><path d="M256.056,112.706c26.2,4.4,50,16.8,69,35.8s31.3,42.8,35.8,69c1.1,6.6,6.8,11.2,13.3,11.2c0.8,0,1.5-0.1,2.3-0.2c7.4-1.2,12.3-8.2,11.1-15.6c-5.4-31.7-20.4-60.6-43.3-83.5s-51.8-37.9-83.5-43.3c-7.4-1.2-14.3,3.7-15.6,11S248.656,111.506,256.056,112.706z"/><path d="M473.256,209.006c-8.9-52.2-33.5-99.7-71.3-137.5s-85.3-62.4-137.5-71.3c-7.3-1.3-14.2,3.7-15.5,11c-1.2,7.4,3.7,14.3,11.1,15.6c46.6,7.9,89.1,30,122.9,63.7c33.8,33.8,55.8,76.3,63.7,122.9c1.1,6.6,6.8,11.2,13.3,11.2c0.8,0,1.5-0.1,2.3-0.2C469.556,223.306,474.556,216.306,473.256,209.006z"/></g></g></svg>
      </span>
      <span class="c_t14">Кількість гостей:</span>
      <span class="p-d-er c_t14 ev error">*</span>
      <input type="number" class="p-d_inp p-d_inp2"
             [(ngModel)]="activeBaskets.clients"
             name="clients">
    </div>
    <div class="p-d_i">
      <span class="p-d_i_svg">
          <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 473.806 473.806" width="20" height="20" fill="#00a3ff"><g><g><path d="M374.456,293.506c-9.7-10.1-21.4-15.5-33.8-15.5c-12.3,0-24.1,5.3-34.2,15.4l-31.6,31.5c-2.6-1.4-5.2-2.7-7.7-4c-3.6-1.8-7-3.5-9.9-5.3c-29.6-18.8-56.5-43.3-82.3-75c-12.5-15.8-20.9-29.1-27-42.6c8.2-7.5,15.8-15.3,23.2-22.8c2.8-2.8,5.6-5.7,8.4-8.5c21-21,21-48.2,0-69.2l-27.3-27.3c-3.1-3.1-6.3-6.3-9.3-9.5c-6-6.2-12.3-12.6-18.8-18.6c-9.7-9.6-21.3-14.7-33.5-14.7s-24,5.1-34,14.7c-0.1,0.1-0.1,0.1-0.2,0.2l-34,34.3c-12.8,12.8-20.1,28.4-21.7,46.5c-2.4,29.2,6.2,56.4,12.8,74.2c16.2,43.7,40.4,84.2,76.5,127.6c43.8,52.3,96.5,93.6,156.7,122.7c23,10.9,53.7,23.8,88,26c2.1,0.1,4.3,0.2,6.3,0.2c23.1,0,42.5-8.3,57.7-24.8c0.1-0.2,0.3-0.3,0.4-0.5c5.2-6.3,11.2-12,17.5-18.1c4.3-4.1,8.7-8.4,13-12.9c9.9-10.3,15.1-22.3,15.1-34.6c0-12.4-5.3-24.3-15.4-34.3L374.456,293.506z M410.256,398.806C410.156,398.806,410.156,398.906,410.256,398.806c-3.9,4.2-7.9,8-12.2,12.2c-6.5,6.2-13.1,12.7-19.3,20c-10.1,10.8-22,15.9-37.6,15.9c-1.5,0-3.1,0-4.6-0.1c-29.7-1.9-57.3-13.5-78-23.4c-56.6-27.4-106.3-66.3-147.6-115.6c-34.1-41.1-56.9-79.1-72-119.9c-9.3-24.9-12.7-44.3-11.2-62.6c1-11.7,5.5-21.4,13.8-29.7l34.1-34.1c4.9-4.6,10.1-7.1,15.2-7.1c6.3,0,11.4,3.8,14.6,7c0.1,0.1,0.2,0.2,0.3,0.3c6.1,5.7,11.9,11.6,18,17.9c3.1,3.2,6.3,6.4,9.5,9.7l27.3,27.3c10.6,10.6,10.6,20.4,0,31c-2.9,2.9-5.7,5.8-8.6,8.6c-8.4,8.6-16.4,16.6-25.1,24.4c-0.2,0.2-0.4,0.3-0.5,0.5c-8.6,8.6-7,17-5.2,22.7c0.1,0.3,0.2,0.6,0.3,0.9c7.1,17.2,17.1,33.4,32.3,52.7l0.1,0.1c27.6,34,56.7,60.5,88.8,80.8c4.1,2.6,8.3,4.7,12.3,6.7c3.6,1.8,7,3.5,9.9,5.3c0.4,0.2,0.8,0.5,1.2,0.7c3.4,1.7,6.6,2.5,9.9,2.5c8.3,0,13.5-5.2,15.2-6.9l34.2-34.2c3.4-3.4,8.8-7.5,15.1-7.5c6.2,0,11.3,3.9,14.4,7.3c0.1,0.1,0.1,0.1,0.2,0.2l55.1,55.1C420.456,377.706,420.456,388.206,410.256,398.806z"/><path d="M256.056,112.706c26.2,4.4,50,16.8,69,35.8s31.3,42.8,35.8,69c1.1,6.6,6.8,11.2,13.3,11.2c0.8,0,1.5-0.1,2.3-0.2c7.4-1.2,12.3-8.2,11.1-15.6c-5.4-31.7-20.4-60.6-43.3-83.5s-51.8-37.9-83.5-43.3c-7.4-1.2-14.3,3.7-15.6,11S248.656,111.506,256.056,112.706z"/><path d="M473.256,209.006c-8.9-52.2-33.5-99.7-71.3-137.5s-85.3-62.4-137.5-71.3c-7.3-1.3-14.2,3.7-15.5,11c-1.2,7.4,3.7,14.3,11.1,15.6c46.6,7.9,89.1,30,122.9,63.7c33.8,33.8,55.8,76.3,63.7,122.9c1.1,6.6,6.8,11.2,13.3,11.2c0.8,0,1.5-0.1,2.3-0.2C469.556,223.306,474.556,216.306,473.256,209.006z"/></g></g></svg>
      </span>
      <span class="c_t14">Телефон:</span>
      <input type="number" class="p-d_inp p-d_inp2"
             [(ngModel)]="activeBaskets.anyMobile"
             name="mobile"
             placeholder="{{mobile}}">
    </div>
    <div class="p-d_i p-d_i1">
      <div class="p-d_i-i">
          <span class="p-d_i_svg">
              <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 97.16 97.16" width="20" height="20" fill="#00a3ff"><g><g><path d="M48.58,0C21.793,0,0,21.793,0,48.58s21.793,48.58,48.58,48.58s48.58-21.793,48.58-48.58S75.367,0,48.58,0z M48.58,86.823c-21.087,0-38.244-17.155-38.244-38.243S27.493,10.337,48.58,10.337S86.824,27.492,86.824,48.58S69.667,86.823,48.58,86.823z"/><path d="M73.898,47.08H52.066V20.83c0-2.209-1.791-4-4-4c-2.209,0-4,1.791-4,4v30.25c0,2.209,1.791,4,4,4h25.832c2.209,0,4-1.791,4-4S76.107,47.08,73.898,47.08z"/></g></g></svg>
          </span>
        <span class="c_t14">Дата і час:</span>
        <span class="p-d-er c_t14 ev error">*</span>
      </div>
      <div class="p-d_i-i1">
        <div class="p-d_ch-c">
          <div class="date-wrap">
            <div class="time-input">{{dataStart | date:'dd/MM/yy'}}</div>
            <ngb-datepicker
              [minDate]="startDay"
              [maxDate]="endDay"
              [(ngModel)]="model" (select)="dataSelected($event)"></ngb-datepicker>
          </div>
          <div class="time-wrap">
            <div class="time-input">{{dataStart | date:'HH:mm'}}</div>
            <ngb-timepicker [(ngModel)]="timeStart" [minuteStep]="10"></ngb-timepicker>
            <!--<div class="center">
              <span class="dt_t" *ngIf="activeBaskets.deliveryWorkTime.isTimeRange">Графік: {{activeBaskets.deliveryWorkTime.timeStart}} - {{activeBaskets.deliveryWorkTime.timeEnd}}</span>
              <span class="dt_t" *ngIf="activeBaskets.deliveryWorkTime.isAllTime">Графік: цілодобово</span>
              <span class="dt_t" *ngIf="activeBaskets.deliveryWorkTime.isWeekend">Графік: вихідний</span>
            </div>-->
          </div>
        </div>
      </div>
    </div>
    <div class="p-d_i p-d_i2">
      <div class="p-d_i">
          <span class="p-d_i_svg">
              <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512" width="20" height="20" fill="#00a3ff"><g><g><path d="M437.02,74.98C388.668,26.628,324.38,0,256,0S123.332,26.628,74.98,74.98C26.629,123.332,0,187.62,0,256s26.629,132.668,74.98,181.02C123.332,485.372,187.62,512,256,512s132.668-26.628,181.02-74.98C485.371,388.668,512,324.38,512,256S485.371,123.332,437.02,74.98z M256,482C131.383,482,30,380.617,30,256S131.383,30,256,30s226,101.383,226,226S380.617,482,256,482z"/></g></g><g><g><path d="M272.067,241h-32.134c-18.307,0-33.2-14.893-33.2-33.199c0-18.307,14.894-33.2,33.2-33.2H304.2c8.284,0,15-6.716,15-15s-6.716-15-15-15H271v-33.2c0-8.284-6.716-15-15-15s-15,6.716-15,15v33.2h-1.066c-34.849,0-63.2,28.352-63.2,63.2c0,34.848,28.352,63.199,63.2,63.199h32.134c18.306,0,33.199,14.894,33.199,33.2c0,18.306-14.893,33.2-33.199,33.2h-64.267c-8.284,0-15,6.716-15,15s6.716,15,15,15H241v33.201c0,8.284,6.716,15,15,15s15-6.716,15-15V367.4h1.067c34.848,0,63.199-28.352,63.199-63.2S306.915,241,272.067,241z"/></g></g></svg>
          </span>
        <span class="c_t14">Оплата:</span>
        <div class="select-tr select-tr1">
          <select [(ngModel)]="activeBaskets.paymentType">
            <option name="paymentType" value="fiat" selected>Готівкою</option>
            <option name="paymentType" value="card" *ngIf="isCart">Карткою</option>
            <option name="paymentType" value="coin"
                    *ngIf="me.foodcoin>=(activeBaskets.totalPrice)">
                    FoodCoin
            </option>
            <option name="paymentType" value="coin" disabled style="color:red"
                    *ngIf="me.foodcoin<(activeBaskets.totalPrice)">
              FoodCoin (не достатньо для оплати замовлення)
            </option>
          </select>
        </div>
      </div>
      <!--<div class="p-d_i" *ngIf="activeBaskets.paymentType == 'fiat'">-->
        <!--<span class="p-d_i_svg">-->
          <!--<svg viewBox="0 0 511 511.99978" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#00a3ff"><path d="m235.792969 347.265625c3.902343-3.910156 3.902343-10.238281 0-14.148437-3.90625-3.898438-10.234375-3.898438-14.144531 0-3.898438 3.910156-3.898438 10.238281 0 14.148437 3.910156 3.898437 10.238281 3.898437 14.144531 0zm0 0"/><path d="m188.449219 109.96875c0 60.636719 49.332031 109.972656 109.96875 109.972656s109.96875-49.335937 109.96875-109.972656-49.332031-109.96875-109.96875-109.96875-109.96875 49.332031-109.96875 109.96875zm199.945312 0c0 49.613281-40.363281 89.976562-89.976562 89.976562s-89.976563-40.363281-89.976563-89.976562c0-49.609375 40.363282-89.972656 89.976563-89.972656s89.976562 40.363281 89.976562 89.972656zm0 0"/><path d="m115.652344 509.042969c3.875 3.90625 10.183594 3.949219 14.109375.082031l48.46875-47.75c8.234375-8.234375 10.738281-20.425781 7.117187-31.023438l10.425782-10.054687c5.613281-5.421875 13.003906-8.410156 20.816406-8.410156h132.902344c23.578124 0 45.863281-9.054688 62.757812-25.496094.695312-.675781-5.277344 6.359375 90.667969-108.3125 14.230469-16.835937 12.101562-42.117187-4.75-56.363281-16.746094-14.113282-41.832031-12.085938-56.101563 4.460937l-58.992187 60.632813c-7.449219-9.167969-18.808594-14.882813-31.082031-14.882813h-111.480469c-15.863281-6.636719-32.695313-9.996093-50.0625-9.996093-48.140625 0-90.175781 22.234374-112.734375 63.921874-9.503906-1.800781-19.527344 1.074219-26.738282 8.285157l-47.558593 47.699219c-3.882813 3.894531-3.890625 10.195312-.015625 14.101562zm74.792968-227.121094c15.3125 0 30.117188 3.082031 44.011719 9.160156 1.265625.554688 2.628907.839844 4.007813.839844h113.527344c10.839843 0 19.996093 8.839844 19.996093 19.992187 0 11.027344-8.96875 19.996094-19.996093 19.996094h-81.566407c-5.519531 0-9.996093 4.476563-9.996093 9.996094 0 5.523438 4.476562 9.996094 9.996093 9.996094h81.566407c22.050781 0 39.988281-17.9375 39.988281-39.988282 0-1.757812-.125-3.5-.351563-5.226562 57.066406-58.660156 65.113282-66.902344 65.457032-67.3125 7.125-8.410156 19.773437-9.476562 28.1875-2.382812 8.421874 7.121093 9.488281 19.761718 2.34375 28.21875l-89.667969 107.195312c-13.09375 12.570312-30.285157 19.488281-48.457031 19.488281h-132.902344c-13.023438 0-25.351563 4.980469-34.703125 14.015625l-8.496094 8.199219-78.320313-78.316406c18.304688-34.339844 52.652344-53.871094 95.375-53.871094zm-125.320312 66.34375c3.296875-3.296875 8.359375-3.890625 12.378906-1.40625 1.730469 1.054687-3.238281-3.46875 86.589844 86.234375 3.996094 3.996094 3.78125 10.363281.054688 14.089844l-41.320313 40.707031-98.230469-98.980469zm0 0"/><path d="m286.421875 49.988281v11.714844c-11.636719 4.125-19.996094 15.238281-19.996094 28.273437 0 16.535157 13.453125 29.992188 29.992188 29.992188 5.511719 0 9.996093 4.484375 9.996093 9.996094 0 5.511718-4.484374 9.996094-9.996093 9.996094-4.269531 0-8.882813-2.683594-12.980469-7.5625-3.554688-4.226563-9.859375-4.769532-14.085938-1.21875-4.226562 3.554687-4.773437 9.859374-1.21875 14.085937 5.34375 6.355469 11.628907 10.785156 18.289063 13.019531v11.667969c0 5.523437 4.476563 9.996094 9.996094 9.996094s9.996093-4.472657 9.996093-9.996094v-11.714844c11.636719-4.128906 19.996094-15.242187 19.996094-28.273437 0-16.539063-13.453125-29.992188-29.992187-29.992188-5.511719 0-9.996094-4.484375-9.996094-9.996094 0-5.511718 4.484375-10 9.996094-10 3.542969 0 7.28125 1.808594 10.8125 5.226563 3.96875 3.839844 10.296875 3.734375 14.136719-.230469 3.839843-3.96875 3.734374-10.296875-.230469-14.136718-5.074219-4.910157-10.152344-7.6875-14.722657-9.203126v-11.644531c0-5.523437-4.476562-10-9.996093-10s-9.996094 4.476563-9.996094 10zm0 0"/></svg>-->
        <!--</span>-->
        <!--<span class="c_t14">Сума:</span>-->
        <!--<input type="number" class="us_inp p-d_inp-s" [(ngModel)]="activeBaskets.paymentDetail.fiatVal" placeholder="1000">-->
        <!--<span class="c_t14">грн.</span>-->
      <!--</div>-->
    </div>
  </div>
  <div class="p-d_comment">
    <textarea name="coment" [(ngModel)]="activeBaskets.orderCommentData[0].text"
              [ngModelOptions]="{standalone: true}"
              class="ord_cm_t" placeholder="Коментар до замовлення"></textarea>
    <div class="ord_cm_t-f">{{activeBaskets.orderCommentData[0].text}}</div>
  </div>
  <label class="p-d_ch p-d_ch1">
    <input type="checkbox" name="isCall" value="true" [(ngModel)]="activeBaskets.isCall">
    <span class="p-d_ch-i">обов'язково зателефонуйте</span>
  </label>
  <mz-collapsible
    [mode]="'accordion'"
    [onClose]=""
    [onOpen]=""
    [popout]="false"
    class="dt_p-d">
    <mz-collapsible-item [active]="false">
      <mz-collapsible-item-header class="dt_h">
        <span class="dt_h_t">Деталі замовлення</span>
        <div class="dt_h_svg">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129 129" width="15" height="15"> <g> <path d="m121.3,34.6c-1.6-1.6-4.2-1.6-5.8,0l-51,51.1-51.1-51.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l53.9,53.9c0.8,0.8 1.8,1.2 2.9,1.2 1,0 2.1-0.4 2.9-1.2l53.9-53.9c1.7-1.6 1.7-4.2 0.1-5.8z"/> </g></svg>
        </div>
      </mz-collapsible-item-header>
      <mz-collapsible-item-body class="dt_c">
        <div class="dt_i">
          <span class="dt_t">Вартість замовлення:</span>
          <span class="dt_t">{{activeBaskets.totalPrice}} грн.</span>
        </div>
      </mz-collapsible-item-body>
    </mz-collapsible-item>
  </mz-collapsible>

  <div class="ord_in p-d_in">
    <p class="ord_in_i">
      <span class="ord_in_i-t">Загальна вартість:</span>
      <span class="ord_in_i-val">{{activeBaskets.totalPrice}} грн.</span>
    </p>
  </div>
  <div *ngIf="isError" class="error-text">{{isError}}</div>
  <div class="p-d_btn-cont">
    <button type="button" class="btn-red p-d_btn" (click)="isDoOrder=false">Скасувати</button>
    <button type="button" class="btn-green p-d_btn"
            (click)="doOrderBySelf()">Замовити</button>
  </div>
</ng-template>

<!--<button (click)="test()">test</button>-->
<!--<div [innerHTML]="button | safeHTML">-->
  <!--{{button}}-->
<!--</div>-->

<ng-template #preload>
  <div class="row">
    <div class="col s12 center">
      <div class="preloader-wrapper small active">
        <div class="spinner-layer spinner-blue-only">
          <div class="circle-clipper left">
            <div class="circle"></div>
          </div>
          <div class="gap-patch">
            <div class="circle"></div>
          </div>
          <div class="circle-clipper right">
            <div class="circle"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
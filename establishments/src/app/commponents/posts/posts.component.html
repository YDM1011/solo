<ng-container *ngIf="posts">
  <ng-container *ngFor="let post of posts">
<article class="post" >
  <div class="post_info">

    <span class="post_info_user-img pre-bg">
      <span class="inherit">
         <app-img [img]="{id: post.userId.photo}" ></app-img>
      </span>
    </span>

    <span class="info_user">
      <strong class="info_user_name">{{post.userId.firstName}} {{post.userId.lastName}}</strong>
      <span class="info_user_event" *ngIf="post.img.length > 0"> додав фото</span>
      <span class="info_user_event" *ngIf="post.img.length == 0"> додав допис</span>
      <ng-container *ngIf="post.withFriend.length > 0">
        <span class="info_user_event"> разом з </span>
        <span class="info_user_event" *ngFor="let friend of post.withFriend"> {{friend.name}} </span>
      </ng-container>
      <span class="info_user_place">
        <span class="info_user_event"> у </span>
        <span class="info_user_place_link">
          <span class="info_user_place_link_img">
            <app-img [pic]="estAvatar"></app-img>
          </span>
          <strong>Соло</strong>
        </span>
      </span>
    </span>
    <p class="info_data">
      <span>{{post.data | date:"dd.MM.yyy HH:mm"}}</span>
    </p>
    <div class="info_user-select">
      <div class="cont_dropD">
        <span class="btn-sl btn-dropD" onclick="this.nextElementSibling.classList.toggle('active');">
          <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 490 490" style="enable-background:new 0 0 30 30;"><g><g><path d="M304.5,245c0-32.8-26.7-59.5-59.5-59.5s-59.5,26.7-59.5,59.5s26.7,59.5,59.5,59.5S304.5,277.8,304.5,245z M245,280c-19.3,0-35-15.7-35-35s15.7-35,35-35s35,15.7,35,35S264.3,280,245,280z"></path><path d="M59.5,185.5C26.7,185.5,0,212.2,0,245s26.7,59.5,59.5,59.5S119,277.8,119,245S92.3,185.5,59.5,185.5z M59.5,280c-19.3,0-35-15.7-35-35s15.7-35,35-35s35,15.7,35,35S78.8,280,59.5,280z"></path><path d="M430.5,185.5c-32.8,0-59.5,26.7-59.5,59.5s26.7,59.5,59.5,59.5S490,277.8,490,245S463.3,185.5,430.5,185.5z M430.5,280c-19.3,0-35-15.7-35-35s15.7-35,35-35s35,15.7,35,35S449.8,280,430.5,280z"></path></g></g></svg>
        </span>
        <ul class="p-l_adr_ul" tabindex="0" onclick="this.classList.remove('active');">
          <li class="p-l_adr_li"><span>Відкрити в новому вікні</span></li>
          <li class="p-l_adr_li"><span>Видалити</span></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="post_content">
    <p class="post_content_text">{{post.des}}</p>
    <div class="post_content_img-cont">
      <div class="post-full">
        <div>
          <div class="content-img_cont array">
            <div class="content-img_item" *ngFor="let img of post.img">
              <app-img [img]="{id: img}" ></app-img>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="post_select">
    <div class="button-component">
      <button class="button" (click)="liked(post)">
        <span class="button-svg">
          <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 485.027 485.027" style="enable-background:new 0 0 30 30;"><g><g><path style="fill:#3C92CA;" d="M109.4,459.991H13c-2.1,0-3.9-1.8-3.9-3.9v-248.4c0-2.1,1.8-3.9,3.9-3.9h96.4c2.1,0,3.9,1.8,3.9,3.9v248.4C113.3,458.191,111.6,459.991,109.4,459.991z"></path><path d="M284.6,20.391c-28.2-20.7-67.2-8.8-68.8-8.3c-3.8,1.2-6.3,4.7-6.3,8.6v85.8c0,29.1-13.8,53.7-41.1,73.2c-21.1,15.1-42.7,21.3-42.9,21.4c-0.2,0-0.3,0.1-0.5,0.2l-5.1,1.7c-3-4.9-8.3-8.2-14.5-8.2H16.9c-9.3,0-16.9,7.6-16.9,16.9v240.5c0,9.3,7.6,16.9,16.9,16.9h88.6c8,0,14.7-5.6,16.4-13c11.9,12.7,28.8,20.7,47.6,20.7h209.8c44.6,0,73.1-23.3,78.1-64l26.8-170.2c3.9-24.7-6.2-49.7-25.8-63.7c-11.1-8-24.2-12.2-37.9-12.2H311.4v-79.6C311.4,55.891,302.4,33.491,284.6,20.391z M104.2,450.891H18.1v-238h86.1V450.891z M420.5,184.791c9.9,0,19.3,3,27.3,8.8c14,10.1,21.3,28.2,18.4,46.2l-26.7,170.3c0,0.1,0,0.2,0,0.3c-4.9,39.8-35.4,48.2-60.2,48.2H169.5c-26,0-47.1-21.1-47.1-47.1v-190.2l8.3-2.8c2.9-0.8,25.2-7.6,47.8-23.7c32.1-22.8,49.1-53.3,49.1-88.2v-78.6c10.4-2,31.3-4,46.4,7.1c12.8,9.4,19.3,26.9,19.3,52v88.7c0,5,4.1,9.1,9.1,9.1h118.1V184.791z"></path></g></g></svg>
        </span>
        <span class="button-title">Вподобати</span>
        <span class="button-value" *ngIf="post.like">{{post.like.length}}</span>
      </button>
    </div>


    <div class="button-component">
      <button class="button">
        <span class="button-svg">
          <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 511.62 511.619" style="enable-background:new 0 0 50 50;"><g><g><path d="M301.923,327.602c30.93-13.038,55.34-30.785,73.228-53.248c17.891-22.458,26.837-46.915,26.837-73.372c0-26.458-8.946-50.914-26.837-73.376c-17.888-22.459-42.298-40.208-73.228-53.249c-30.93-13.039-64.571-19.556-100.928-19.556c-36.354,0-69.995,6.521-100.927,19.56C69.14,87.4,44.729,105.149,26.84,127.609C8.947,150.068,0,174.523,0,200.982c0,22.648,6.764,43.975,20.276,63.957c13.512,19.985,32.071,36.833,55.671,50.535c-1.902,4.572-3.853,8.754-5.852,12.566c-2,3.806-4.377,7.467-7.139,10.991c-2.76,3.525-4.899,6.283-6.423,8.275c-1.523,1.998-3.997,4.809-7.424,8.422c-3.428,3.617-5.618,5.996-6.567,7.135c0-0.191-0.383,0.24-1.143,1.287c-0.763,1.047-1.191,1.52-1.287,1.431c-0.094-0.103-0.476,0.373-1.141,1.42c-0.666,1.048-1,1.571-1,1.571l-0.715,1.423c-0.284,0.568-0.476,1.137-0.57,1.712c-0.096,0.567-0.144,1.19-0.144,1.854s0.094,1.28,0.286,1.854c0.383,2.471,1.477,4.466,3.284,5.996c1.809,1.52,3.757,2.279,5.854,2.279h0.857c9.515-1.332,17.701-2.854,24.552-4.569c29.312-7.614,55.771-19.797,79.372-36.545c17.128,3.046,33.88,4.568,50.248,4.568C237.349,347.156,270.994,340.641,301.923,327.602z M142.184,303.767l-12.564,8.846c-5.33,3.614-11.227,7.331-17.7,11.14l9.995-23.986l-27.694-15.988c-18.276-10.656-32.454-23.219-42.542-37.685c-10.089-14.465-15.131-29.502-15.131-45.111c0-19.417,7.474-37.594,22.414-54.534c14.938-16.94,35.067-30.358,60.382-40.259c25.313-9.895,52.532-14.847,81.653-14.847c29.121,0,56.342,4.952,81.654,14.847c25.313,9.9,45.442,23.319,60.388,40.259c14.94,16.939,22.408,35.116,22.408,54.534c0,19.414-7.468,37.59-22.408,54.53c-14.945,16.945-35.074,30.36-60.388,40.256c-25.312,9.897-52.53,14.846-81.654,14.846c-14.272,0-28.833-1.335-43.681-3.997L142.184,303.767z"></path><path d="M491.347,338.156c13.518-19.896,20.272-41.255,20.272-64.098c0-23.411-7.139-45.303-21.409-65.666c-14.277-20.362-33.694-37.305-58.245-50.819c4.374,14.274,6.563,28.739,6.563,43.398c0,25.503-6.368,49.676-19.129,72.519c-12.752,22.836-31.025,43.01-54.816,60.524c-22.08,15.988-47.205,28.261-75.377,36.829c-28.164,8.562-57.573,12.848-88.218,12.848c-5.708,0-14.084-0.377-25.122-1.137c38.256,25.119,83.177,37.685,134.756,37.685c16.371,0,33.119-1.526,50.251-4.571c23.6,16.755,50.06,28.931,79.37,36.549c6.852,1.718,15.037,3.237,24.554,4.568c2.283,0.195,4.381-0.476,6.283-1.995c1.903-1.526,3.142-3.614,3.71-6.276c-0.089-1.143,0-1.77,0.287-1.861c0.281-0.09,0.233-0.712-0.144-1.852c-0.376-1.144-0.568-1.715-0.568-1.715l-0.712-1.424c-0.198-0.376-0.52-0.903-0.999-1.567c-0.476-0.66-0.855-1.14-1.143-1.427c-0.28-0.284-0.705-0.763-1.28-1.424c-0.568-0.66-0.951-1.092-1.143-1.283c-0.951-1.143-3.139-3.521-6.564-7.139c-3.429-3.613-5.899-6.42-7.422-8.418c-1.523-1.999-3.665-4.757-6.424-8.282c-2.758-3.518-5.14-7.183-7.139-10.991c-1.998-3.806-3.949-7.995-5.852-12.56C459.281,374.855,477.843,358.059,491.347,338.156z"></path></g></g></svg>
        </span>
        <span class="button-title">Коментувати</span>
        <span class="button-value" *ngIf="post.commentId">{{post.commentId.length}}</span>
      </button>
    </div>

    <div class="button-component">
      <button class="button">
        <span class="button-svg">
          <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 487.958 487.958" style="enable-background:new 0 0 50 50;"><g><path d="M483.058,215.613l-215.5-177.6c-4-3.3-9.6-4-14.3-1.8c-4.7,2.2-7.7,7-7.7,12.2v93.6c-104.6,3.8-176.5,40.7-213.9,109.8c-32.2,59.6-31.9,130.2-31.6,176.9c0,3.8,0,7.4,0,10.8c0,6.1,4.1,11.5,10.1,13.1c1.1,0.3,2.3,0.4,3.4,0.4c4.8,0,9.3-2.5,11.7-6.8c73-128.7,133.1-134.9,220.2-135.2v93.3c0,5.2,3,10,7.8,12.2s10.3,1.5,14.4-1.8l215.4-178.2c3.1-2.6,4.9-6.4,4.9-10.4S486.158,218.213,483.058,215.613z M272.558,375.613v-78.1c0-3.6-1.4-7-4-9.5c-2.5-2.5-6-4-9.5-4c-54.4,0-96.1,1.5-136.6,20.4c-35,16.3-65.3,44-95.2,87.5c1.2-39.7,6.4-87.1,28.1-127.2c34.4-63.6,101-95.1,203.7-96c7.4-0.1,13.4-6.1,13.4-13.5v-78.2l180.7,149.1L272.558,375.613z"></path></g></svg>
        </span>
        <span class="button-title">Пoширити</span>
        <span class="button-value">0</span>
      </button>
    </div>

  </div>
  <!--Пост коментар-->
  <div class="post_comment-cont active">
    <div class="post_com">
      <ng-container *ngIf="post.commentId.length > 0">
        <ng-container *ngFor="let coment of post.commentId">
          <article class="com">
            <div class="com_user">

              <div class="com_user_img pre-bg">
                <div class="inherit">
                  <app-img [img]="{id: coment.userIdCom.photo}"></app-img>
                </div>
              </div>

              <div class="com_user_info">
                <p class="com_user_name">
                  <strong class="com_user_name-title">{{coment.userIdCom.firstName}} {{coment.userIdCom.lastName}}</strong>
                </p>
                <p class="com_user_data">
                  <time>{{coment.data | date:"dd.MM.yyy HH:mm"}}</time>
                </p>
              </div>
            </div>

            <p class="com_text">{{coment.des}}</p>
          </article>
        </ng-container>
      </ng-container>


      <div class="com-new" *ngIf="estMyAvatar">

        <div class="com_user_img pre-bg">
          <div class="inherit">
            <app-img [pic]="estMyAvatar"></app-img>
          </div>
        </div>

        <div class="com-new_com">
          <div class="com-new_fantom" style="visibility:hidden;position:absolute;z-index:-1"></div>
          <textarea class="com-new_com_text"
                    placeholder="Поділіться своїми враженнями..."
                    #des></textarea>

          <div class="com-new_send">
            <button class="com-new_button" (click)="commented(post, des.value); des.value = ''">
              <span class="com-new_button_svg">
                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 490.282 490.282" style="enable-background:new 0 0 30 30;fill:#946fb0" xml:space="preserve"><g><path d="M0.043,245.197c0.6,10.1,7.3,18.6,17,21.5l179.6,54.3l6.6,123.8c0.3,4.9,3.6,9.2,8.3,10.8c1.3,0.5,2.7,0.7,4,0.7c3.5,0,6.8-1.4,9.2-4.1l63.5-70.3l90,62.3c4,2.8,8.7,4.3,13.6,4.3c11.3,0,21.1-8,23.5-19.2l74.7-380.7c0.9-4.4-0.8-9-4.2-11.8c-3.5-2.9-8.2-3.6-12.4-1.9l-459,186.8C5.143,225.897-0.557,235.097,0.043,245.197z M226.043,414.097l-4.1-78.1l46,31.8L226.043,414.097z M391.443,423.597l-163.8-113.4l229.7-222.2L391.443,423.597z M432.143,78.197l-227.1,219.7l-179.4-54.2L432.143,78.197z"></path></g></svg>
              </span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</article>
  </ng-container>
</ng-container>
<app-custom-res style="display: none" [model]="{
  url:'me',
  security: true
}" (onRes)="result($event)" (onErr)="forbidden($event)"></app-custom-res>

"use strict";function hiddenForm(){document.querySelectorAll(".auth").forEach(function(e){e.hasAttribute("hidden")?e.removeAttribute("hidden"):e.setAttribute("hidden","")})}function accord(){var e=this.parentElement,t=e.querySelector(".it_con");e.hasAttribute("expanded")?(e.removeAttribute("expanded"),t.style.transition="250ms",t.style.maxHeight="0"):(e.setAttribute("expanded",""),t.style.transition="300ms",t.style.maxHeight=t.scrollHeight+"px")}function openStatic(){document.querySelectorAll(".".concat(this.getAttribute("data-target"))).forEach(function(e){e.classList.toggle("active")})}function closePop(e){this.hasAttribute("data-fixed")||(document.documentElement.classList.remove("fix"),document.body.classList.remove("fix")),document.querySelectorAll(".".concat(this.getAttribute("data-target"))).forEach(function(e){e.classList.remove("active")})}function clickMenu(e){e.preventDefault();for(var t=e.target;t!==this;){var n=t.tagName.toLowerCase();if("a"===n)return this.classList.remove("active"),void scroll(t.getAttribute("href"));if("button"===n)return t.getAttribute("data-close")&&this.classList.remove("active"),void popUp(t.getAttribute("data-target"));t=t.parentElement}}function popUp(e){document.documentElement.classList.toggle("fix"),document.body.classList.toggle("fix"),document.querySelectorAll("."+e).forEach(function(e){e.classList.toggle("active"),e.focus()})}function scroll(e){var r=.35,c=window.pageYOffset,i=document.querySelector(e)?document.querySelector(e).getBoundingClientRect().top:0,a=null;requestAnimationFrame(function e(t){null===a&&(a=t);var n=t-a,o=i<0?Math.max(c-n/r,c+i):Math.min(c+n/r,c+i);window.scrollTo(0,o);o!==c+i&&requestAnimationFrame(e)})}function httpGet(o){return new Promise(function(t,n){var e=new XMLHttpRequest;e.open("GET",o,!0),e.onload=function(){if(200===this.status)t(JSON.parse(this.response));else{var e=new ErrorEvent(this.statusText);e.code=this.status,n(e)}},e.onerror=function(){n(new Error("Network Error"))},e.send()})}function callback(e){var t=e.page.index;addRemoveClass(".zv-d",t),addRemoveClass(".btn-zv",t)}function addRemoveClass(e,n){document.querySelectorAll(e).forEach(function(e,t){n===t?e.classList.add("active"):e.classList.remove("active")})}document.getElementById("sidebar").addEventListener("click",clickMenu),document.getElementById("head").addEventListener("click",clickMenu),document.querySelectorAll(".closePop").forEach(function(e){e.addEventListener("click",closePop)}),document.querySelector(".p-up-bg .btn-blue").addEventListener("click",function(){document.querySelector(".p-up-bg").classList.remove("active"),document.querySelector(".svg.done").classList.remove("active"),document.querySelector(".svg.err").classList.remove("active")}),document.querySelectorAll(".openStatic").forEach(function(e){e.addEventListener("click",openStatic)}),document.querySelectorAll(".btn-bord").forEach(function(e){e.addEventListener("click",hiddenForm)}),document.querySelector(".Switcher__checkbox").addEventListener("change",function(){document.querySelectorAll(".accordion").forEach(function(e){return e.classList.toggle("active")}),document.querySelectorAll(".ul-2 .it").forEach(function(e){console.log(e.hasAttribute("expanded")),e.hasAttribute("expanded")&&(e.removeAttribute("expanded"),e.querySelector(".it_con").style.transition="0",e.querySelector(".it_con").style.maxHeight="0")})}),document.querySelectorAll(".ul-2 .it header").forEach(function(e){e.addEventListener("click",accord)}),httpGet("/api/getVerifyAll").then(function(e){return document.getElementById("establishCount").innerHTML="".concat(e.count,"<span>/").concat(e.count2,"</span>")},function(e){return console.log(e)}),httpGet("/api/user/count").then(function(e){return document.getElementById("userCount").innerHTML=e.count},function(e){return console.log(e)}),$(".owl-carousel").owlCarousel({loop:!0,margin:0,dotsContainer:".indicators",autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,responsive:{0:{items:1}},onTranslated:callback,onDragged:callback});var authForm=document.getElementById("authorization");authForm.addEventListener("submit",function(e){e.preventDefault(),fetch(authForm.getAttribute("action"),{method:"POST",body:new FormData(authForm)}).then(function(e){return e.json()},function(e){return console.log(e)}).then(function(e){return window.location=window.location.href=e._id}).catch(alert)});var regForm=document.getElementById("signup");function signup(e){var t=document.querySelector(".mail");e.login?(document.querySelector(".svg.done").classList.add("active"),t.innerHTML="Вітаємо! На пошту ".concat(e.login," було відправлено пароль"),hiddenForm(),authForm.querySelector("[type=email]").value=e.login,authForm.querySelector("[type=password]").value=""):(document.querySelector(".svg.err").classList.add("active"),t.innerHTML="Логін вже існує!"),regForm.querySelectorAll(".inp-pop").forEach(function(e){return e.value=""}),document.querySelector(".p-up-bg").classList.add("active")}document.getElementById("signup").addEventListener("submit",function(e){e.preventDefault(),fetch(regForm.getAttribute("action"),{method:"POST",body:new FormData(regForm)}).then(function(e){return e.json()},function(e){return console.log(e)}).then(function(e){return signup(e)}).catch(alert)});
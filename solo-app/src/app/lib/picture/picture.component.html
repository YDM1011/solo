<ng-container *ngIf="loaded">
<ng-container *ngIf="pic && !size; else sizeTemp">
  <ng-container *ngIf="pic.picCrop">
    <ng-container *ngIf="pic.model=='establishment' && pic.field=='av'">
      <ng-container *ngTemplateOutlet="establishmentAv"></ng-container>
    </ng-container>

    <ng-container *ngIf="pic.model=='establishment' && pic.field=='bg'">
      <ng-container *ngTemplateOutlet="establishmentBg"></ng-container>
    </ng-container>

    <ng-container *ngIf="pic.model=='user' && pic.field=='photo'">
      <ng-container *ngTemplateOutlet="userPhoto"></ng-container>
    </ng-container>

    <ng-container *ngIf="pic.model=='user' && pic.field=='bg'">
      <ng-container *ngTemplateOutlet="userBg"></ng-container>
    </ng-container>

    <ng-container *ngIf="pic.model=='post' && pic.field=='img'">
      <ng-container *ngTemplateOutlet="postImg"></ng-container>
    </ng-container>

    <ng-container *ngIf="pic.model=='dish' && pic.field=='pic'">
      <ng-container *ngTemplateOutlet="dishImg"></ng-container>
    </ng-container>
  </ng-container>
</ng-container>
</ng-container>


<ng-template #establishmentAv>
  <img class="img" srcset="{{host}}/{{pic.picCrop}} 200w, {{host}}/-px150-{{pic.picCrop}} 150w, {{host}}/-px100-{{pic.picCrop}} 100w, {{host}}/-px60-{{pic.picCrop}} 60w, {{host}}/-px20-{{pic.picCrop}} 20w" src="{{host}}/{{pic.picCrop}}">
  
</ng-template>

<ng-template #establishmentBg>
  <img class="img" srcset="{{host}}/-px768-{{pic.picCrop}} 768w, {{host}}/-px400-{{pic.picCrop}} 400w, {{host}}/-px150-{{pic.picCrop}} 150w" src="{{host}}/{{pic.picCrop}}">
  
</ng-template>

<ng-template #userBg>
  <img class="img" srcset="{{host}}/-px768-{{pic.picCrop}} 768w, {{host}}/-px400-{{pic.picCrop}} 400w, {{host}}/-px150-{{pic.picCrop}} 150w" src="{{host}}/{{pic.picCrop}}">
  
</ng-template>

<ng-template #userPhoto>
  <img class="img" srcset="{{host}}/{{pic.picCrop}} 200w, {{host}}/-px150-{{pic.picCrop}} 150w, {{host}}/-px100-{{pic.picCrop}} 100w, {{host}}/-px60-{{pic.picCrop}} 60w, {{host}}/-px20-{{pic.picCrop}} 20w" src="{{host}}/{{pic.picCrop}}">
  
</ng-template>

<ng-template #postImg>
  <img class="img" srcset="{{host}}/-px768-{{pic.picCrop}} 768w, {{host}}/-px400-{{pic.picCrop}} 400w" src="{{host}}/-px768-{{pic.picCrop}}">  
</ng-template>

<ng-template #dishImg>
  <img class="img" srcset="{{host}}/-px230-{{pic.picCrop}} 230w, {{host}}/-px150-{{pic.picCrop}} 150w" src="{{host}}/-px150-{{pic.picCrop}}">
  
</ng-template>

<ng-template #picCrop>
  <ng-container *ngIf="pic.picCrop && !pic.picCrop">
    <img class="img" src="{{host}}{{pic.picCrop}}">
  </ng-container>
</ng-template>

<ng-template #sizeTemp>
  <ng-container *ngIf="isString">
    <ng-container *ngIf="size == 'right-bar-g'">
      <img class="img img-content" srcset="{{host}}/-px200-{{pic.picCrop}} 200w, {{host}}/-px60-{{pic.picCrop}} 60w" src="{{host}}/-px200-{{pic.picCrop}}">
      
    </ng-container>
    <ng-container *ngIf="size == 'right-bar-d'">
      <img class="img" srcset="{{host}}/-px150-{{pic.picCrop}} 150w, {{host}}/-px100-{{pic.picCrop}} 100w, {{host}}/-px60-{{pic.picCrop}} 60w" src="{{host}}/-px60-{{pic.picCrop}}">
      
    </ng-container>
    <ng-container *ngIf="size == 'right-bar-f'">
      <img class="img" srcset="{{host}}/-px150-{{pic.picCrop}} 150w, {{host}}/-px100-{{pic.picCrop}} 100w, {{host}}/-px60-{{pic.picCrop}} 60w" src="{{host}}/{{pic.picCrop}}">
      
    </ng-container>
  </ng-container>
  <ng-container *ngIf="!isString">
    <ng-container *ngIf="size && pic">
      <img class="img" srcset="{{host}}/-px{{size}}-{{pic.picCrop}}">
    </ng-container>
  </ng-container>
</ng-template>


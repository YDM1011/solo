<div class="container-page">
  <div class="container-page_one">

    <div class="container_head-prof" style="overflow: hidden">
      <div class="head-prof">

        <div class="head-prof_user">
          <app-avatar class="head-prof_user_av"
                      [customClass]="'inherit'"
                      [type]="'imgMax'"></app-avatar>
          <app-upload class="head-prof_user_up"
                      [btnName]="btn"
                      (getImg)="loader = $event"></app-upload>

        </div>


        <div class="head-prof_bg">
          <app-bg></app-bg>
        </div>


        <div class="head-prof_user-name">
          <app-first-name [isInput]="true"></app-first-name>
          <app-last-name></app-last-name>
        </div>
        <app-user-init [user]="user"></app-user-init>

        <app-update-user class="head-prof_update" [id]="id"></app-update-user>


        <div class="head-prof_loader">
          <img class="img" [src]="loader.larg" *ngIf="loader">
        </div>


        <app-form *ngIf="loader" [text]="'Зберегти аватар'"
                  [class]="'btn waves-effect waves-light'"
                  [option]="loader"
                  [url]="'/api/avatar'"
        ></app-form>

      </div>
    </div>

    <div class="container-content">
      <div class="container_left-bar">

      </div>

      <div class="container-tape">

        <div class="friends-container">
          <div class="friends-container_header">
            <div class="friends-container_category-parent">
              <span #friend class="friends-container_category active"
                    (click)="friend.classList.add('active'); newFriend.classList.remove('active');"
              >Всі друзі</span>
              <span #newFriend class="friends-container_category"
                    (click)="newFriend.classList.add('active'); friend.classList.remove('active');"
              >Нові друзі</span>
            </div>
          </div>
          <div #Frnd  class="friends-container_content" *ngIf="people.length > 0">
            <div class="friends-container_element" *ngFor="let mean of people">

                <div class="friends-container_element_user">
                  <a class="friends-container_element_user-img-link" [routerLink]="'/user/'+mean._id">
                    <img *ngIf="mean.photo" [src]="mean.photo.preload" alt="">
                  </a>
                  <div class="friends-container_element_user-info">
                    <a class="friends-container_element_user-info_name-link" [routerLink]="'/user/'+mean._id">{{mean.firstName}} {{mean.lastName}}</a>
                    <p class="friends-container_element_user-info_common" *ngIf="mutual[mean._id]">Спільне: <span>{{mutual[mean._id].length || 0}} друзів</span> <span>та 0 страв</span></p>
                  </div>
                </div>

                <div class="friends-container_element_button">
                  <app-del-friend [userId]="mean._id"></app-del-friend>
                  <app-meet-friend [userId]="mean._id"></app-meet-friend>


                  <app-form
                    style="display: none"
                    [hidden]="true"
                    [method]="'get'"
                    [url]="'/api/getMutual/'+mean._id"
                    (onRes)="mutual[mean._id] = $event"
                    [click]="true"
                  ></app-form>
                </div>

            </div>
          </div>
          <div class="friends-container_content" *ngIf="people.length > 0">
            <div class="friends-container_element" *ngFor="let mean of people">

              <div class="friends-container_element_user">
                <a class="friends-container_element_user-img-link" [routerLink]="'/user/'+mean._id">
                  <img class="img" *ngIf="mean.photo" [src]="mean.photo.preload" alt="">
                </a>
                <div class="friends-container_element_user-info">
                  <a class="friends-container_element_user-info_name-link" [routerLink]="'/user/'+mean._id">{{mean.firstName}} {{mean.lastName}}</a>
                  <p class="friends-container_element_user-info_common" *ngIf="mutual[mean._id]">Спільне: <span>{{mutual[mean._id].length || 0}} друзів</span> <span>та 0 страв</span></p>
                </div>
              </div>

              <div class="friends-container_element_button">
                <app-init-invite [userId]="mean._id"></app-init-invite>

                <app-invite-friend [userId]="mean._id"></app-invite-friend>
                <app-uninvite-friend [userId]="mean._id"></app-uninvite-friend>
                <app-offer-friend [userId]="mean._id"></app-offer-friend>

                <app-form
                  style="display: none"
                  [hidden]="true"
                  [method]="'get'"
                  [url]="'/api/getMutual/'+mean._id"
                  (onRes)="mutual[mean._id] = $event"
                  [click]="true"
                ></app-form>
              </div>

            </div>
          </div>
        </div>
        <app-create *ngIf="user" [avatar]="user.photo" [id]="id" [firstName]="user.firstName"></app-create>

        <app-post [id]="id" [posts]="posts"></app-post>
        <button class="btn waves-effect waves-light" (click)="morePost()" *ngIf="isShow">next</button>

        <app-form
          [text]="'More'"
          [class]="'btn waves-effect waves-light'"
          [method]="'get'"
          [url]="'/api/user'"
          (onRes)="more($event)"
          [click]="true"
        ></app-form>

      </div>

    </div>

  </div>
  <div class="container-page_two">

    <app-show-friends *ngIf="friends" [friends]="friends.myFriends"></app-show-friends>
    <app-gallery *ngIf="photos" [photos]="photos.gallery"></app-gallery>

  </div>
</div>


<div class="cont-page">
  <div class="cont-page_one" #it>

    <div class="cont_h-pf">
      <ng-container *ngIf="!user">
        <div class="h-pf_bg pre-bg"></div>
        <div class="h-pf_img">
          <app-prev-avatar></app-prev-avatar>
        </div>
        <div class="btn-green">Зустрітись з друзями</div>
      </ng-container>

      <ng-container *ngIf="user">
        <div class="h-pf_bg pre-bg">
          <ng-container *ngIf="user.bg">
            <img class="img" src="{{user.bg.picCrop}}">
          </ng-container>
          <ng-container *ngIf="!user.bg">
            <app-prev-bg></app-prev-bg>
          </ng-container>
          <app-upload [btnName]="btnBg"
                      [model]="'user'"
                      [field]="'bg'"
                      [multiple]="false"></app-upload>
        </div>

        <a href="/user/{{user._id}}" class="h-pf_img">
          <ng-container *ngIf="user.photo">
            <img class="img" src="{{user.photo.picCrop}}">
          </ng-container>
          <ng-container *ngIf="!user.photo">
            <app-prev-avatar></app-prev-avatar>
          </ng-container>
          <app-upload [btnName]="btn"
                      [model]="'user'"
                      [field]="'photo'"
                      [multiple]="false"
          ></app-upload>
        </a>

        <div class="h-pf_tt">{{user.firstName}} {{user.lastName}}</div>

        <button #goFr class="btn-green" isMyProfile (click)="goFr.val=true">Зустрітись з друзями</button>
        <app-pre-production [status]="goFr.val" (statusResult)="goFr.val=$event"></app-pre-production>

      </ng-container>
    </div>

    <div class="cont-content">
      <div class="cont_left-bar" #leftBar>
        <div #lfbr class="lf-br" [appLeftBarScroll]="leftBar.getBoundingClientRect()"
             (resize)="lfbr.style.width = leftBar.clientWidth+'px'"
             [style.width.px]="leftBar.clientWidth">
          <div class="lf-br_cntt">
            <div *ngIf="!favoriteEst" class="cont br-lv">
              <div class="br-lv_h">
                <div class="svg20">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 15 13" fill="#D75A4A"><path d="M13.0241 1.12805C12.2895 0.400412 11.313 0 10.2741 0C9.23506 0 8.25842 0.400412 7.52358 1.12805L7.16159 1.48667L6.79961 1.12805C6.06499 0.400412 5.08813 0 4.0493 0C3.01052 0 2.03358 0.400412 1.29904 1.12805C-0.217519 2.63034 -0.217519 5.07464 1.29904 6.57635L6.73329 11.959C6.82214 12.0473 6.93276 12.1014 7.04832 12.1222C7.08708 12.1298 7.12605 12.1333 7.1651 12.1333C7.31883 12.1333 7.47282 12.0753 7.5899 11.959L13.0242 6.57635C14.5408 5.07464 14.5408 2.63034 13.0241 1.12805ZM12.1745 5.73487L7.16163 10.7002L2.14863 5.73487C1.10057 4.69692 1.10057 3.0081 2.14863 1.9696C2.65629 1.46683 3.3315 1.19029 4.0493 1.19029C4.76718 1.19029 5.44221 1.46683 5.94969 1.9696L6.7368 2.74949C6.96242 2.97264 7.36106 2.97264 7.58665 2.74949L8.37347 1.9696C8.88098 1.46683 9.55604 1.19029 10.2741 1.19029C10.992 1.19029 11.667 1.46683 12.1745 1.9696C13.2227 3.0081 13.2227 4.69688 12.1745 5.73487Z"/><path d="M12.1745 5.73488L7.1616 10.7002L2.14859 5.73488C1.10053 4.69693 1.10053 3.00812 2.14859 1.96961C2.65625 1.46685 3.33146 1.19031 4.04927 1.19031C4.76715 1.19031 5.44217 1.46685 5.94965 1.96961L6.73676 2.74951C6.96239 2.97266 7.36102 2.97266 7.58661 2.74951L8.37343 1.96961C8.88095 1.46685 9.55601 1.19031 10.2741 1.19031C10.992 1.19031 11.667 1.46685 12.1745 1.96961C13.2227 3.00812 13.2227 4.69689 12.1745 5.73488Z"/></svg>
                </div>
                <span class="br-lv_t">Улюблений заклад</span>
              </div>
              <div class="br-lv_cntt">
                <div class="br-lv_i pre">
                  <svg xmlns="http://www.w3.org/2000/svg" width="150" height="150" viewBox="0 0 366 432" fill="none"> <g clip-path="url(#clip0)"> <path d="M362.081 234.638L190.524 85.9555C186.224 82.2271 179.841 82.2271 175.541 85.9555L114.375 138.932V117.476C114.375 104.849 104.127 94.602 91.5011 94.602C78.8749 94.602 68.6264 104.85 68.6264 117.476V178.573L3.93763 234.638C-0.820157 238.778 -1.34613 246.007 2.7939 250.787C6.95725 255.545 14.1628 256.049 18.9431 251.931L182.999 109.744L347.031 251.931C349.226 253.807 351.857 254.722 354.533 254.722C357.758 254.722 360.892 253.372 363.157 250.787C367.365 246.007 366.816 238.824 362.081 234.638Z" fill="#C3C3C3"/> <path d="M197.477 168.44C193.291 164.986 188.145 163.225 182.998 163.225C177.851 163.225 172.704 164.963 168.496 168.44L54.1243 262.201C48.8172 266.548 45.7524 273.021 45.7524 279.906V391.967C45.7524 404.594 56.0002 414.841 68.6264 414.841H137.249V300.471H228.746V414.842H297.369C309.973 414.842 320.243 404.594 320.243 391.968V279.907C320.243 272.998 317.155 266.548 311.848 262.225L197.477 168.44Z" fill="#C3C3C3"/> </g> <g clip-path="url(#clip1)"> <path d="M89.754 16.6069C93.0635 8.76279 100.624 3.28191 109.418 3.28191C121.263 3.28191 129.795 13.4155 130.867 25.4924C130.867 25.4924 131.446 28.4904 130.172 33.8876C128.437 41.2381 124.358 47.7686 118.859 52.7525L89.754 78.7203L61.1393 52.7509C55.6404 47.7686 51.5617 41.2364 49.8266 33.886C48.5523 28.4887 49.1312 25.4908 49.1312 25.4908C50.2038 13.4138 58.735 3.28027 70.5808 3.28027C79.3761 3.28027 86.4445 8.76279 89.754 16.6069Z" fill="#C3C3C3"/> </g> <defs> <clipPath id="clip0"> <rect width="366" height="366" fill="white" transform="translate(0 66)"/> </clipPath> <clipPath id="clip1"> <rect width="82" height="82" fill="white" transform="translate(49)"/> </clipPath> </defs> </svg>
                  <div class="c_t10">Не обрано</div>
                </div>
              </div>
            </div>
            <a *ngIf="favoriteEst" href="//{{favoriteEst.subdomain+'.'+host}}" class="cont br-lv">
              <div class="br-lv_h">
                <div class="svg20">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 15 13" fill="#D75A4A"><path d="M13.0241 1.12805C12.2895 0.400412 11.313 0 10.2741 0C9.23506 0 8.25842 0.400412 7.52358 1.12805L7.16159 1.48667L6.79961 1.12805C6.06499 0.400412 5.08813 0 4.0493 0C3.01052 0 2.03358 0.400412 1.29904 1.12805C-0.217519 2.63034 -0.217519 5.07464 1.29904 6.57635L6.73329 11.959C6.82214 12.0473 6.93276 12.1014 7.04832 12.1222C7.08708 12.1298 7.12605 12.1333 7.1651 12.1333C7.31883 12.1333 7.47282 12.0753 7.5899 11.959L13.0242 6.57635C14.5408 5.07464 14.5408 2.63034 13.0241 1.12805ZM12.1745 5.73487L7.16163 10.7002L2.14863 5.73487C1.10057 4.69692 1.10057 3.0081 2.14863 1.9696C2.65629 1.46683 3.3315 1.19029 4.0493 1.19029C4.76718 1.19029 5.44221 1.46683 5.94969 1.9696L6.7368 2.74949C6.96242 2.97264 7.36106 2.97264 7.58665 2.74949L8.37347 1.9696C8.88098 1.46683 9.55604 1.19029 10.2741 1.19029C10.992 1.19029 11.667 1.46683 12.1745 1.9696C13.2227 3.0081 13.2227 4.69688 12.1745 5.73487Z"/><path d="M12.1745 5.73488L7.1616 10.7002L2.14859 5.73488C1.10053 4.69693 1.10053 3.00812 2.14859 1.96961C2.65625 1.46685 3.33146 1.19031 4.04927 1.19031C4.76715 1.19031 5.44217 1.46685 5.94965 1.96961L6.73676 2.74951C6.96239 2.97266 7.36102 2.97266 7.58661 2.74951L8.37343 1.96961C8.88095 1.46685 9.55601 1.19031 10.2741 1.19031C10.992 1.19031 11.667 1.46685 12.1745 1.96961C13.2227 3.00812 13.2227 4.69689 12.1745 5.73488Z"/></svg>
                </div>
                <span class="br-lv_t">Улюблений заклад</span>
              </div>
              <div class="br-lv_cntt">
                <div class="br-lv_i" >
                  <ng-container *ngIf="favoriteEst.av.picCrop; else favEst">
                    <img class="img" [src]="favoriteEst.av.picCrop">
                  </ng-container>
                </div>
              </div>
            </a>

            <app-like-est></app-like-est>
          </div>

            <div class="lf-br_btn" *ngIf="user">
              <ng-container *ngIf="user.photo; else geaalt">
                <ng-container *ngIf="user.photo.picCrop; else geaalt">
                  <app-geo isMyProfile class="btn-green" [avatar]="user.photo.picCrop"></app-geo>
                </ng-container>
              </ng-container>
              <ng-template #geaalt>
                <app-geo  isMyProfile class="btn-green" [avatar]="'../../../assets/img/avatar.svg'"></app-geo>
              </ng-template>

              <button #goFr2 class="btn-green req" isMyProfile (click)="goFr2.val=true">Зустрітись з друзями</button>
              <app-pre-production [status]="goFr2.val" (statusResult)="goFr2.val=$event"></app-pre-production>
            </div>

            <div class="lf-br_btn">
              <app-uninvite-friend [userId]="id"></app-uninvite-friend>
              <app-invite-friend [userId]="id" style="width: 100%"></app-invite-friend>
            </div>

        </div>
      </div>

      <div class="cont-tape">
        <div class="cont_right-bar" appRightBarScroll>
          <div class="cont el_cont">
            <app-profile-info [userId]="id"></app-profile-info>
          </div>

          <div class="cont el_cont">
            <div *ngIf="!friends">
              <div class="el_h">
                <span class="svg20">
                  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512" width="20" height="20" fill="#00a3ff"><path d="M158.1,81.8c47,0,85.3,40.6,85.3,90.4s-38.2,90.4-85.3,90.4S72.8,222,72.8,172.1S111.1,81.8,158.1,81.8 M158.1,66.8c-55.3,0-100.3,47.3-100.3,105.4s45,105.4,100.3,105.4c55.3,0,100.3-47.3,100.3-105.4S213.3,66.8,158.1,66.8L158.1,66.8z"/><path d="M362.8,79.2c40.1,0,72.9,34.3,73.2,76.9c0.2,20.5-7.2,39.9-20.7,54.6c-13.7,15-32.2,23.3-51.9,23.5c-0.2,0-0.4,0-0.6,0c-19.5,0-37.8-8-51.7-22.6c-13.7-14.5-21.4-33.7-21.6-54.3c-0.2-20.5,7.2-39.9,20.7-54.6c13.7-15,32.2-23.3,51.9-23.5C362.5,79.2,362.7,79.2,362.8,79.2 M362.8,64.2l-0.6,0l0,0l0,0c-23.9,0.2-46.2,10.3-62.8,28.3c-16.1,17.5-24.8,40.5-24.6,64.9c0.2,24.3,9.3,47.2,25.7,64.5c16.7,17.6,38.9,27.3,62.6,27.3l0.6,0l0,0l0.1,0c23.9-0.2,46.2-10.3,62.8-28.3c16.1-17.5,24.8-40.5,24.6-64.9c-0.2-24.4-9.4-47.3-25.9-64.6C408.5,73.8,386.4,64.2,362.8,64.2L362.8,64.2z"/><path d="M366.4,261.7c70.6,0,128,57.4,128,127.9v27.3H337.9c-1-19.2-5.3-37.8-12.7-55.5c-8.3-19.6-20.2-37.3-35.3-52.4c-5.1-5.1-10.5-9.9-16.2-14.2c22.7-20.5,52.8-33.1,85.8-33.1H366.4 M366.4,246.7h-7.1c-35.5,0-69.5,13.1-95.8,37l-13.3,12.1l14.3,11c5.1,3.9,10.1,8.3,14.7,12.9c13.8,13.8,24.6,29.8,32.1,47.6c6.8,16,10.7,33,11.6,50.4l0.7,14.2h14.2h156.5h15v-15v-27.3C509.4,310.8,445.3,246.7,366.4,246.7L366.4,246.7z"/><path d="M162.3,290.8c30.8,0,59.1,10.1,82,27.2c31.5,23.4,52.5,60,55.1,101.6c0.2,2.9,0.3,5.8,0.3,8.7v16.3H16.4v-16.3c0-75.9,61.5-137.4,137.4-137.4H162.3 M162.3,275.8h-8.5c-40.7,0-79,15.9-107.8,44.6C17.2,349.3,1.4,387.6,1.4,428.3v16.3v15h15h283.4h15v-15v-16.3c0-3.2-0.1-6.5-0.3-9.6c-2.8-44.7-25.1-85.8-61.1-112.7C226.9,286.2,195.4,275.8,162.3,275.8L162.3,275.8z"/></svg>
                </span>
                <span class="el_h_tt">Друзі</span>
                <span class="el_h_vl">0</span>
              </div>
              <div class="el_cntt">
                <app-prev-avatar class="el_i"></app-prev-avatar>
                <app-prev-avatar class="el_i"></app-prev-avatar>
                <app-prev-avatar class="el_i"></app-prev-avatar>
                <app-prev-avatar class="el_i"></app-prev-avatar>
                <app-prev-avatar class="el_i"></app-prev-avatar>
                <app-prev-avatar class="el_i"></app-prev-avatar>
              </div>
            </div>
            <app-show-friends *ngIf="friends" [friends]="friends.myFriends"></app-show-friends>
          </div>

          <div class="cont el_cont">
            <div *ngIf="!photos">
              <div class="el_h">
                <div class="svg20">
                  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 58 58" width="20" height="20" fill="#00a3ff"><path d="M57,6H1C0.448,6,0,6.447,0,7v44c0,0.553,0.448,1,1,1h56c0.552,0,1-0.447,1-1V7C58,6.447,57.552,6,57,6z M56,50H2V8h54V50z"/><path d="M16,28.138c3.071,0,5.569-2.498,5.569-5.568C21.569,19.498,19.071,17,16,17s-5.569,2.498-5.569,5.569C10.431,25.64,12.929,28.138,16,28.138z M16,19c1.968,0,3.569,1.602,3.569,3.569S17.968,26.138,16,26.138s-3.569-1.601-3.569-3.568S14.032,19,16,19z"/><path d="M7,46c0.234,0,0.47-0.082,0.66-0.249l16.313-14.362l10.302,10.301c0.391,0.391,1.023,0.391,1.414,0s0.391-1.023,0-1.414l-4.807-4.807l9.181-10.054l11.261,10.323c0.407,0.373,1.04,0.345,1.413-0.062c0.373-0.407,0.346-1.04-0.062-1.413l-12-11c-0.196-0.179-0.457-0.268-0.72-0.262c-0.265,0.012-0.515,0.129-0.694,0.325l-9.794,10.727l-4.743-4.743c-0.374-0.373-0.972-0.392-1.368-0.044L6.339,44.249c-0.415,0.365-0.455,0.997-0.09,1.412C6.447,45.886,6.723,46,7,46z"/></svg>
                </div>
                <span class="el_h_tt">Фото</span>
              </div>
              <div class="el_cntt">
                <div class="el_i">
                  <img class="img" src="../../assets/img/errImg.png" alt="nit found">
                </div>
                <div class="el_i">
                  <img class="img" src="../../assets/img/errImg.png" alt="nit found">
                </div>
                <div class="el_i">
                  <img class="img" src="../../assets/img/errImg.png" alt="nit found">
                </div>
                <div class="el_i">
                  <img class="img" src="../../assets/img/errImg.png" alt="nit found">
                </div>
                <div class="el_i">
                  <img class="img" src="../../assets/img/errImg.png" alt="nit found">
                </div>
                <div class="el_i">
                  <img class="img" src="../../assets/img/errImg.png" alt="nit found">
                </div>
              </div>
            </div>
            <app-gallery *ngIf="photos" [photos]="photos"></app-gallery>
          </div>

          <div class="cont el_cont">
            <app-like-dish></app-like-dish>
          </div>

          <div class="us-s">
            <div class="us-s_h">
              <p>Особисті налаштування</p>
            </div>

            <app-bar-menu></app-bar-menu>

            <span class="copyright">Taste of Life © 2018</span>
          </div>
        </div>

        <div id="contTape">
          <router-outlet></router-outlet>
        </div>

      </div>
    </div>
  </div>
</div>

<ng-template #favEst>
  <svg xmlns="http://www.w3.org/2000/svg" width="366" height="432" viewBox="0 0 366 432" fill="none"> <g clip-path="url(#clip0)"> <path d="M362.081 234.638L190.524 85.9555C186.224 82.2271 179.841 82.2271 175.541 85.9555L114.375 138.932V117.476C114.375 104.849 104.127 94.602 91.5011 94.602C78.8749 94.602 68.6264 104.85 68.6264 117.476V178.573L3.93763 234.638C-0.820157 238.778 -1.34613 246.007 2.7939 250.787C6.95725 255.545 14.1628 256.049 18.9431 251.931L182.999 109.744L347.031 251.931C349.226 253.807 351.857 254.722 354.533 254.722C357.758 254.722 360.892 253.372 363.157 250.787C367.365 246.007 366.816 238.824 362.081 234.638Z" fill="#C3C3C3"/> <path d="M197.477 168.44C193.291 164.986 188.145 163.225 182.998 163.225C177.851 163.225 172.704 164.963 168.496 168.44L54.1243 262.201C48.8172 266.548 45.7524 273.021 45.7524 279.906V391.967C45.7524 404.594 56.0002 414.841 68.6264 414.841H137.249V300.471H228.746V414.842H297.369C309.973 414.842 320.243 404.594 320.243 391.968V279.907C320.243 272.998 317.155 266.548 311.848 262.225L197.477 168.44Z" fill="#C3C3C3"/> </g> <g clip-path="url(#clip1)"> <path d="M89.754 16.6069C93.0635 8.76279 100.624 3.28191 109.418 3.28191C121.263 3.28191 129.795 13.4155 130.867 25.4924C130.867 25.4924 131.446 28.4904 130.172 33.8876C128.437 41.2381 124.358 47.7686 118.859 52.7525L89.754 78.7203L61.1393 52.7509C55.6404 47.7686 51.5617 41.2364 49.8266 33.886C48.5523 28.4887 49.1312 25.4908 49.1312 25.4908C50.2038 13.4138 58.735 3.28027 70.5808 3.28027C79.3761 3.28027 86.4445 8.76279 89.754 16.6069Z" fill="#C3C3C3"/> </g> <defs> <clipPath id="clip0"> <rect width="366" height="366" fill="white" transform="translate(0 66)"/> </clipPath> <clipPath id="clip1"> <rect width="82" height="82" fill="white" transform="translate(49)"/> </clipPath> </defs> </svg>
</ng-template>
